{"ast":null,"code":"import _slicedToArray from\"/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Row,Col}from\"react-bootstrap\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{mainAction}from\"redux/actions/index.actions\";import dayjs from\"dayjs\";var Article=function Article(props){useEffect(function(){// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var stripHtml=require(\"string-strip-html\");var postTitle=props.postTitle,postContent=props.postContent,postDate=props.postDate,_id=props._id;var _useState=useState(\"/images/missing.png\"),_useState2=_slicedToArray(_useState,2),loadedImage=_useState2[0],setLoadeImage=_useState2[1];var truncateString=function truncateString(str,num){if(str.length<=num){return str;}return str.slice(0,num)+'...';};var loadPost=function loadPost(props){props.history.push(\"/post/\".concat(_id));};var renderImage=function renderImage(props){if(props.image[0]){return/*#__PURE__*/React.createElement(\"a\",{href:\"/post/\".concat(props.ID)},/*#__PURE__*/React.createElement(\"img\",{src:\"https://firebasestorage.googleapis.com/v0/b/johandemeij-513b2.appspot.com/o/posts%2F\"+props.image[0].imageName+\"?alt=media\",width:\"100%\",\"max-height\":\"180px\"}));}//setLoadeImage(\"/images/posts/\"+props.image[0].imageName)\nreturn/*#__PURE__*/React.createElement(\"img\",{src:loadedImage,width:\"100%\"});};var renderArticle=function renderArticle(props,mainProps){var date=dayjs(postDate);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{style:{marginBottom:\"25px\"}},/*#__PURE__*/React.createElement(Col,{lg:{span:\"3\"},className:\"card-image\",style:{overflow:\"hidden\",width:\"150px\"}},renderImage(props)),/*#__PURE__*/React.createElement(Col,{lg:{span:\"9\"},className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-date\"},date.format('MMMM DD YYYY')),/*#__PURE__*/React.createElement(\"div\",{className:\"card-title\"},truncateString(postTitle,147)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-text\"},truncateString(stripHtml(postContent),400)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-link\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/post/\".concat(props.ID)},\"More...\")))));};// console.log(props)\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{lg:{span:\"12\"}},renderArticle(props)));};function mapStateToProps(state){return{post:state.singlePostReducer,postImages:state.postImagesReducer};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(Article);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/src/components/shared/Article.jsx"],"names":["React","useEffect","useState","Row","Col","connect","bindActionCreators","mainAction","dayjs","Article","props","stripHtml","require","postTitle","postContent","postDate","_id","loadedImage","setLoadeImage","truncateString","str","num","length","slice","loadPost","history","push","renderImage","image","ID","imageName","renderArticle","mainProps","date","marginBottom","span","overflow","width","format","mapStateToProps","state","post","singlePostReducer","postImages","postImagesReducer","mapDispatchToProps","dispatch","actions"],"mappings":"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","sourcesContent":["import React, { useEffect,useState} from \"react\";\nimport {Row,Col} from \"react-bootstrap\"\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { mainAction } from \"redux/actions/index.actions\"\nimport dayjs from \"dayjs\"\nconst Article = (props) => {\n    useEffect(() => {\n       \n        // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, []);\n    const stripHtml = require(\"string-strip-html\")\n    const {postTitle,postContent,postDate,_id} = props\n    const [loadedImage,setLoadeImage] = useState(\"/images/missing.png\")\n    const truncateString = (str, num) => {\n        if (str.length <= num) {\n            return str\n          }\n          return str.slice(0, num) + '...'\n      }\n      const loadPost = (props) => {\n        props.history.push(`/post/${_id}`)\n      }\n      const renderImage = (props) => {\n        if(props.image[0]){\n          \n        return <a href={`/post/${props.ID}`}><img src={\"https://firebasestorage.googleapis.com/v0/b/johandemeij-513b2.appspot.com/o/posts%2F\"+props.image[0].imageName+\"?alt=media\"} width=\"100%\" max-height=\"180px\" /></a>}\n        //setLoadeImage(\"/images/posts/\"+props.image[0].imageName)\n        return <img src={loadedImage} width=\"100%\"  />\n      }\n    const renderArticle = (props,mainProps) => {\n      let date = dayjs(postDate)\n        return (<>\n        <Row style={{marginBottom:\"25px\"}}>\n          <Col  lg={{span:\"3\" }}className=\"card-image\" style={{overflow:\"hidden\",width:\"150px\"}}>\n{renderImage(props)}\n\n          </Col>\n          <Col  lg={{span:\"9\" }} className=\"card-body\">\n            <div className=\"card-date\">{date.format('MMMM DD YYYY')}</div> \n            <div className=\"card-title\">{truncateString(postTitle,147)}</div>\n            <div className=\"card-text\">{truncateString(stripHtml(postContent),400)}</div>\n            <div className=\"card-link\"><a href={`/post/${props.ID}`}>More...</a></div>\n          </Col>\n        </Row>\n        </>)\n    }\n   // console.log(props)\n    return (<>\n    <Col lg={{span:\"12\" }} >\n    {renderArticle(props)}\n    </Col>\n    </>)\n}\nfunction mapStateToProps(state) {\n    return {\n      post:state.singlePostReducer,\n      postImages:state.postImagesReducer\n    };\n  }\n  \n  function mapDispatchToProps(dispatch) {\n    return {\n      actions: bindActionCreators({mainAction}, dispatch)\n    };\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Article);\n"]},"metadata":{},"sourceType":"module"}