{"ast":null,"code":"import _objectSpread from\"/Users/laurakalonzo/Documents/DEV/johandemeij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ACTIONS}from'redux/actions/types.js';import{mainAction}from\"redux/actions/index.actions\";import{auth}from\"../../firebase\";import _ from\"lodash\";var initialState={};export default function userReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ACTIONS.LOGIN_USER:{console.log(action);auth.signInWithEmailAndPassword(action.payload.email,action.payload.password).then(function(user){action.asyncDispatch(mainAction(ACTIONS.LOGIN_USER_SUCCESS,user));}).catch(function(error){action.asyncDispatch(mainAction(ACTIONS.LOGIN_USER_FAIL,{message:\"Error signing in with password and email\",error:error}));});return state;}case ACTIONS.LOGIN_USER_SUCCESS:{localStorage.setItem('user',action.payload.user);return action.payload.user;}case ACTIONS.LOGIN_USER_FAIL:{return state;}case ACTIONS.LOGOUT:{auth.signOut().then(function(){action.asyncDispatch(mainAction(ACTIONS.LOGOUT_SUCCESS,[]));}).catch(function(error){action.asyncDispatch(mainAction(ACTIONS.LOGOUT_ERROR,{message:\"Error signing in with password and email\",error:error}));});return state;}case ACTIONS.LOGOUT_SUCCESS:{return action.payload;}case ACTIONS.LOGOUT_ERROR:{return state;}case ACTIONS.LOGIN_CHECK:{if(action.payload)action.asyncDispatch(mainAction(ACTIONS.LOGIN_USER_SUCCESS,{user:action.payload}));action.asyncDispatch(mainAction(ACTIONS.LOGIN_USER_FAIL,[]));return state;}default:return _objectSpread({},state);}}","map":{"version":3,"sources":["/Users/laurakalonzo/Documents/DEV/johandemeij/johan-app/src/redux/reducers/user.reducer.js"],"names":["ACTIONS","mainAction","auth","_","initialState","userReducer","state","action","type","LOGIN_USER","console","log","signInWithEmailAndPassword","payload","email","password","then","user","asyncDispatch","LOGIN_USER_SUCCESS","catch","error","LOGIN_USER_FAIL","message","localStorage","setItem","LOGOUT","signOut","LOGOUT_SUCCESS","LOGOUT_ERROR","LOGIN_CHECK"],"mappings":"6KAAA,OAASA,OAAT,KAAwB,wBAAxB,CACA,OAASC,UAAT,KAA2B,6BAA3B,CACA,OAASC,IAAT,KAAoB,gBAApB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,GAAMC,CAAAA,YAAY,CAAG,EAArB,CAGA,cAAe,SAASC,CAAAA,WAAT,EAAoD,IAA9BC,CAAAA,KAA8B,2DAAtBF,YAAsB,IAARG,CAAAA,MAAQ,2CAC/D,OAAQA,MAAM,CAACC,IAAf,EAEE,IAAKR,CAAAA,OAAO,CAACS,UAAb,CAAyB,CACrBC,OAAO,CAACC,GAAR,CAAYJ,MAAZ,EACFL,IAAI,CAACU,0BAAL,CAAgCL,MAAM,CAACM,OAAP,CAAeC,KAA/C,CAAsDP,MAAM,CAACM,OAAP,CAAeE,QAArE,EAA+EC,IAA/E,CAAoF,SAACC,IAAD,CAAQ,CACxFV,MAAM,CAACW,aAAP,CAAqBjB,UAAU,CAACD,OAAO,CAACmB,kBAAT,CAA4BF,IAA5B,CAA/B,EACH,CAFD,EAEGG,KAFH,CAES,SAAAC,KAAK,CAAI,CACdd,MAAM,CAACW,aAAP,CAAqBjB,UAAU,CAACD,OAAO,CAACsB,eAAT,CAAyB,CAACC,OAAO,CAAC,0CAAT,CAAoDF,KAAK,CAALA,KAApD,CAAzB,CAA/B,EACD,CAJH,EAKA,MAAOf,CAAAA,KAAP,CACD,CACD,IAAMN,CAAAA,OAAO,CAACmB,kBAAd,CAAkC,CACjCK,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA4BlB,MAAM,CAACM,OAAP,CAAeI,IAA3C,EACC,MAAOV,CAAAA,MAAM,CAACM,OAAP,CAAeI,IAAtB,CACD,CACD,IAAMjB,CAAAA,OAAO,CAACsB,eAAd,CAA+B,CAE7B,MAAOhB,CAAAA,KAAP,CACD,CACD,IAAMN,CAAAA,OAAO,CAAC0B,MAAd,CAAsB,CACpBxB,IAAI,CAACyB,OAAL,GAAeX,IAAf,CAAoB,UAAI,CACpBT,MAAM,CAACW,aAAP,CAAqBjB,UAAU,CAACD,OAAO,CAAC4B,cAAT,CAAwB,EAAxB,CAA/B,EACH,CAFD,EAEGR,KAFH,CAES,SAAAC,KAAK,CAAI,CACdd,MAAM,CAACW,aAAP,CAAqBjB,UAAU,CAACD,OAAO,CAAC6B,YAAT,CAAsB,CAACN,OAAO,CAAC,0CAAT,CAAoDF,KAAK,CAALA,KAApD,CAAtB,CAA/B,EACD,CAJH,EAKA,MAAOf,CAAAA,KAAP,CACD,CACD,IAAMN,CAAAA,OAAO,CAAC4B,cAAd,CAA8B,CAE5B,MAAOrB,CAAAA,MAAM,CAACM,OAAd,CACD,CACD,IAAMb,CAAAA,OAAO,CAAC6B,YAAd,CAA4B,CAE1B,MAAOvB,CAAAA,KAAP,CACD,CACD,IAAMN,CAAAA,OAAO,CAAC8B,WAAd,CAA2B,CAE3B,GAAGvB,MAAM,CAACM,OAAV,CACAN,MAAM,CAACW,aAAP,CAAqBjB,UAAU,CAACD,OAAO,CAACmB,kBAAT,CAA4B,CAACF,IAAI,CAACV,MAAM,CAACM,OAAb,CAA5B,CAA/B,EACAN,MAAM,CAACW,aAAP,CAAqBjB,UAAU,CAACD,OAAO,CAACsB,eAAT,CAAyB,EAAzB,CAA/B,EACE,MAAOhB,CAAAA,KAAP,CACD,CACD,QACE,wBACKA,KADL,EA3CJ,CA+CD","sourcesContent":["import { ACTIONS } from 'redux/actions/types.js'\nimport { mainAction } from \"redux/actions/index.actions\"\nimport { auth} from \"../../firebase\";\nimport _ from \"lodash\"\nconst initialState = {\n   \n};\nexport default function userReducer (state = initialState, action) {\n    switch (action.type) {\n  \n      case ACTIONS.LOGIN_USER: {\n          console.log(action)\n        auth.signInWithEmailAndPassword(action.payload.email, action.payload.password).then((user)=>{\n            action.asyncDispatch(mainAction(ACTIONS.LOGIN_USER_SUCCESS,user))\n        }).catch(error => {\n            action.asyncDispatch(mainAction(ACTIONS.LOGIN_USER_FAIL,{message:\"Error signing in with password and email\",error}))\n          });\n        return state\n      }\n      case  ACTIONS.LOGIN_USER_SUCCESS: {\n       localStorage.setItem('user',action.payload.user);\n        return action.payload.user\n      }\n      case  ACTIONS.LOGIN_USER_FAIL: {\n\n        return state\n      }\n      case  ACTIONS.LOGOUT: {\n        auth.signOut().then(()=>{\n            action.asyncDispatch(mainAction(ACTIONS.LOGOUT_SUCCESS,[]))\n        }).catch(error => {\n            action.asyncDispatch(mainAction(ACTIONS.LOGOUT_ERROR,{message:\"Error signing in with password and email\",error}))\n          });\n        return state\n      }\n      case  ACTIONS.LOGOUT_SUCCESS: {\n\n        return action.payload\n      }\n      case  ACTIONS.LOGOUT_ERROR: {\n       \n        return state\n      }\n      case  ACTIONS.LOGIN_CHECK: {\n        \n      if(action.payload)\n      action.asyncDispatch(mainAction(ACTIONS.LOGIN_USER_SUCCESS,{user:action.payload}))\n      action.asyncDispatch(mainAction(ACTIONS.LOGIN_USER_FAIL,[]))\n        return state\n      }\n      default: \n        return {\n          ...state\n        }\n    }\n  }"]},"metadata":{},"sourceType":"module"}