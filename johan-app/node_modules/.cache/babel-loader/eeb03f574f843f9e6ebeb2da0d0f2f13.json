{"ast":null,"code":"import _slicedToArray from\"/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Col}from\"react-bootstrap\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{mainAction}from\"redux/actions/index.actions\";import dayjs from\"dayjs\";var Article=function Article(props){useEffect(function(){// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var stripHtml=require(\"string-strip-html\");var postTitle=props.postTitle,postContent=props.postContent,postDate=props.postDate,_id=props._id;var _useState=useState(\"/images/missing.png\"),_useState2=_slicedToArray(_useState,2),loadedImage=_useState2[0],setLoadeImage=_useState2[1];var truncateString=function truncateString(str,num){if(str.length<=num){return str;}return str.slice(0,num)+'...';};var loadPost=function loadPost(props){props.history.push(\"/post/\".concat(_id));};var renderImage=function renderImage(props){if(props.image[0]){return/*#__PURE__*/React.createElement(\"a\",{href:\"/post/\".concat(props.ID)},/*#__PURE__*/React.createElement(\"img\",{src:\"https://firebasestorage.googleapis.com/v0/b/johandemeij-513b2.appspot.com/o/posts%2F\"+props.image[0].imageName+\"?alt=media\",width:\"100%\",\"max-height\":\"180px\"}));}//setLoadeImage(\"/images/posts/\"+props.image[0].imageName)\nreturn/*#__PURE__*/React.createElement(\"img\",{src:loadedImage,width:\"100%\",height:\"180px\"});};var renderArticle=function renderArticle(props,mainProps){console.log(props);var date=dayjs(postDate);console.log(props.image[0].imageName);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"news-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-image\",style:{height:\"180px\",overflow:\"hidden\",width:\"120px\",background:\"url(https://firebasestorage.googleapis.com/v0/b/johandemeij-513b2.appspot.com/o/posts%2F\".concat(props.image[0].imageName,\")?alt=media\")}},renderImage(props)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-date\"},date.format('MMMM DD YYYY')),/*#__PURE__*/React.createElement(\"div\",{className:\"card-title\"},truncateString(postTitle,47)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-text\"},truncateString(stripHtml(postContent),70)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-link\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/post/\".concat(props.ID)},\"More...\")))));};// console.log(props)\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{lg:{span:\"6\"}},renderArticle(props)));};function mapStateToProps(state){return{post:state.singlePostReducer,postImages:state.postImagesReducer};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(Article);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/src/components/shared/Article.jsx"],"names":["React","useEffect","useState","Col","connect","bindActionCreators","mainAction","dayjs","Article","props","stripHtml","require","postTitle","postContent","postDate","_id","loadedImage","setLoadeImage","truncateString","str","num","length","slice","loadPost","history","push","renderImage","image","ID","imageName","renderArticle","mainProps","console","log","date","height","overflow","width","background","format","span","mapStateToProps","state","post","singlePostReducer","postImages","postImagesReducer","mapDispatchToProps","dispatch","actions"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,GAAR,KAAkB,iBAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,UAAT,KAA2B,6BAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACvBR,SAAS,CAAC,UAAM,CAEZ;AACD,CAHM,CAGJ,EAHI,CAAT,CAIA,GAAMS,CAAAA,SAAS,CAAGC,OAAO,CAAC,mBAAD,CAAzB,CALuB,GAMhBC,CAAAA,SANgB,CAMsBH,KANtB,CAMhBG,SANgB,CAMNC,WANM,CAMsBJ,KANtB,CAMNI,WANM,CAMMC,QANN,CAMsBL,KANtB,CAMMK,QANN,CAMeC,GANf,CAMsBN,KANtB,CAMeM,GANf,eAOab,QAAQ,CAAC,qBAAD,CAPrB,wCAOhBc,WAPgB,eAOJC,aAPI,eAQvB,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,GAAD,CAAMC,GAAN,CAAc,CACjC,GAAID,GAAG,CAACE,MAAJ,EAAcD,GAAlB,CAAuB,CACnB,MAAOD,CAAAA,GAAP,CACD,CACD,MAAOA,CAAAA,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAaF,GAAb,EAAoB,KAA3B,CACH,CALH,CAME,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACd,KAAD,CAAW,CAC1BA,KAAK,CAACe,OAAN,CAAcC,IAAd,iBAA4BV,GAA5B,GACD,CAFD,CAGA,GAAMW,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACjB,KAAD,CAAW,CAC7B,GAAGA,KAAK,CAACkB,KAAN,CAAY,CAAZ,CAAH,CAAkB,CAElB,mBAAO,yBAAG,IAAI,iBAAWlB,KAAK,CAACmB,EAAjB,CAAP,eAA8B,2BAAK,GAAG,CAAE,uFAAuFnB,KAAK,CAACkB,KAAN,CAAY,CAAZ,EAAeE,SAAtG,CAAgH,YAA1H,CAAwI,KAAK,CAAC,MAA9I,CAAqJ,aAAW,OAAhK,EAA9B,CAAP,CAAoN,CACpN;AACA,mBAAO,2BAAK,GAAG,CAAEb,WAAV,CAAuB,KAAK,CAAC,MAA7B,CAAoC,MAAM,CAAC,OAA3C,EAAP,CACD,CAND,CAOF,GAAMc,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACrB,KAAD,CAAOsB,SAAP,CAAqB,CACzCC,OAAO,CAACC,GAAR,CAAYxB,KAAZ,EACA,GAAIyB,CAAAA,IAAI,CAAG3B,KAAK,CAACO,QAAD,CAAhB,CACAkB,OAAO,CAACC,GAAR,CAAYxB,KAAK,CAACkB,KAAN,CAAY,CAAZ,EAAeE,SAA3B,EACE,mBAAQ,qDACR,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAE,CAACM,MAAM,CAAC,OAAR,CAAgBC,QAAQ,CAAC,QAAzB,CAAkCC,KAAK,CAAC,OAAxC,CAAgDC,UAAU,mGAA4F7B,KAAK,CAACkB,KAAN,CAAY,CAAZ,EAAeE,SAA3G,eAA1D,CAAnC,EACTH,WAAW,CAACjB,KAAD,CADF,CADF,cAIE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,WAAf,EAA4ByB,IAAI,CAACK,MAAL,CAAY,cAAZ,CAA5B,CADF,cAEE,2BAAK,SAAS,CAAC,YAAf,EAA6BrB,cAAc,CAACN,SAAD,CAAW,EAAX,CAA3C,CAFF,cAGE,2BAAK,SAAS,CAAC,WAAf,EAA4BM,cAAc,CAACR,SAAS,CAACG,WAAD,CAAV,CAAwB,EAAxB,CAA1C,CAHF,cAIE,2BAAK,SAAS,CAAC,WAAf,eAA2B,yBAAG,IAAI,iBAAWJ,KAAK,CAACmB,EAAjB,CAAP,YAA3B,CAJF,CAJF,CADQ,CAAR,CAaH,CAjBD,CAkBD;AACC,mBAAQ,qDACR,oBAAC,GAAD,EAAK,EAAE,CAAE,CAACY,IAAI,CAAC,GAAN,CAAT,EACCV,aAAa,CAACrB,KAAD,CADd,CADQ,CAAR,CAKH,CAhDD,CAiDA,QAASgC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC5B,MAAO,CACLC,IAAI,CAACD,KAAK,CAACE,iBADN,CAELC,UAAU,CAACH,KAAK,CAACI,iBAFZ,CAAP,CAID,CAED,QAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO,CACLC,OAAO,CAAE5C,kBAAkB,CAAC,CAACC,UAAU,CAAVA,UAAD,CAAD,CAAe0C,QAAf,CADtB,CAAP,CAGD,CAED,cAAe5C,CAAAA,OAAO,CAACqC,eAAD,CAAkBM,kBAAlB,CAAP,CAA6CvC,OAA7C,CAAf","sourcesContent":["import React, { useEffect,useState} from \"react\";\nimport {Col} from \"react-bootstrap\"\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { mainAction } from \"redux/actions/index.actions\"\nimport dayjs from \"dayjs\"\nconst Article = (props) => {\n    useEffect(() => {\n       \n        // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, []);\n    const stripHtml = require(\"string-strip-html\")\n    const {postTitle,postContent,postDate,_id} = props\n    const [loadedImage,setLoadeImage] = useState(\"/images/missing.png\")\n    const truncateString = (str, num) => {\n        if (str.length <= num) {\n            return str\n          }\n          return str.slice(0, num) + '...'\n      }\n      const loadPost = (props) => {\n        props.history.push(`/post/${_id}`)\n      }\n      const renderImage = (props) => {\n        if(props.image[0]){\n          \n        return <a href={`/post/${props.ID}`}><img src={\"https://firebasestorage.googleapis.com/v0/b/johandemeij-513b2.appspot.com/o/posts%2F\"+props.image[0].imageName+\"?alt=media\"} width=\"100%\" max-height=\"180px\" /></a>}\n        //setLoadeImage(\"/images/posts/\"+props.image[0].imageName)\n        return <img src={loadedImage} width=\"100%\" height=\"180px\" />\n      }\n    const renderArticle = (props,mainProps) => {\n      console.log(props)\n      let date = dayjs(postDate)\n      console.log(props.image[0].imageName)\n        return (<>\n        <div className=\"news-card\">\n          <div className=\"card-image\" style={{height:\"180px\",overflow:\"hidden\",width:\"120px\",background:`url(https://firebasestorage.googleapis.com/v0/b/johandemeij-513b2.appspot.com/o/posts%2F${props.image[0].imageName})?alt=media`}}>\n{renderImage(props)}\n          </div>\n          <div className=\"card-body\">\n            <div className=\"card-date\">{date.format('MMMM DD YYYY')}</div> \n            <div className=\"card-title\">{truncateString(postTitle,47)}</div>\n            <div className=\"card-text\">{truncateString(stripHtml(postContent),70)}</div>\n            <div className=\"card-link\"><a href={`/post/${props.ID}`}>More...</a></div>\n          </div>\n        </div>\n        </>)\n    }\n   // console.log(props)\n    return (<>\n    <Col lg={{span:\"6\" }} >\n    {renderArticle(props)}\n    </Col>\n    </>)\n}\nfunction mapStateToProps(state) {\n    return {\n      post:state.singlePostReducer,\n      postImages:state.postImagesReducer\n    };\n  }\n  \n  function mapDispatchToProps(dispatch) {\n    return {\n      actions: bindActionCreators({mainAction}, dispatch)\n    };\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Article);\n"]},"metadata":{},"sourceType":"module"}