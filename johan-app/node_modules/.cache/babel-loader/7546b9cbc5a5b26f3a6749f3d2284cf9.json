{"ast":null,"code":"import _slicedToArray from\"/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{mainAction}from'redux/actions/index.actions';import{Button}from\"react-bootstrap\";import{ACTIONS}from\"redux/actions/types\";import{Container,Row,Col}from\"react-bootstrap\";import SideNav from\"components/dashboard/SideNav\";//import { Link } from \"react-router-dom\";\nimport Paginate from\"components/shared/Paginate\";import EditPost from\"components/dashboard/EditPost\";var Agendas=function Agendas(props){var _useState=useState(\"list\"),_useState2=_slicedToArray(_useState,2),section=_useState2[0],setSection=_useState2[1];useEffect(function(){// Update the document title using the browser API\ndocument.title=\"JDM Dashboard | posts\";//if(props.categories.length === 0)\n//props.actions.mainAction(ACTIONS.LOAD_ALL_AGENDAS,\"2020\")\nprops.actions.mainAction(ACTIONS.LOAD_CD_AGENDA,{skip:0,limit:20,year:\"2020\"});//  props.actions.mainAction(ACTIONS.LOAD_PRESENTATIONS,{limit:10,skip:0})\n// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var handleClick=function handleClick(){props.history.push('/dashboard/agenda/new');};var loadAgenda=function loadAgenda(id){props.history.push('/dashboard/agenda/'+id);};var deleteAgenda=function deleteAgenda(id){props.actions.mainAction(ACTIONS.DELETE_AGENDA,id);setTimeout(function(){window.location.reload();},1);};var PostList=function PostList(props){return Object.values(props).map(function(agenda){return/*#__PURE__*/React.createElement(\"tr\",{key:agenda.id},/*#__PURE__*/React.createElement(\"td\",{className:\"post-title\",onClick:function onClick(){return loadAgenda(agenda);}},agenda.orchestra),/*#__PURE__*/React.createElement(\"td\",{className:\"post-conductor\"},agenda.conductor),/*#__PURE__*/React.createElement(\"td\",{className:\"post-city\"},agenda.city),/*#__PURE__*/React.createElement(\"td\",{className:\"post-date\"},\"\".concat(agenda.month,\" / \").concat(agenda.day,\" / \").concat(agenda.year)),/*#__PURE__*/React.createElement(\"td\",{className:\"post-actions\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return loadAgenda(agenda.id);},className:\"btn btn-datatable btn-icon btn-transparent-dark mr-2\"},/*#__PURE__*/React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:\"feather feather-more-vertical\"},/*#__PURE__*/React.createElement(\"circle\",{cx:\"12\",cy:\"12\",r:\"1\"}),/*#__PURE__*/React.createElement(\"circle\",{cx:\"12\",cy:\"5\",r:\"1\"}),/*#__PURE__*/React.createElement(\"circle\",{cx:\"12\",cy:\"19\",r:\"1\"}))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return deleteAgenda(agenda.id);},className:\"btn btn-datatable btn-icon btn-transparent-dark\"},/*#__PURE__*/React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:\"feather feather-trash-2\"},/*#__PURE__*/React.createElement(\"polyline\",{points:\"3 6 5 6 21 6\"}),/*#__PURE__*/React.createElement(\"path\",{d:\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"}),/*#__PURE__*/React.createElement(\"line\",{x1:\"10\",y1:\"11\",x2:\"10\",y2:\"17\"}),/*#__PURE__*/React.createElement(\"line\",{x1:\"14\",y1:\"11\",x2:\"14\",y2:\"17\"})))));});};if(section===\"list\"){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,{className:\"dashboard\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:{span:2}},/*#__PURE__*/React.createElement(SideNav,null)),/*#__PURE__*/React.createElement(Col,{lg:{span:10}},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{\"textAlign\":\"center\"}},\"Orchestra\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{\"textAlign\":\"center\"}},\"Conductor\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{\"textAlign\":\"center\"}},\"City\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{\"textAlign\":\"center\"}},\"Date\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{\"textAlign\":\"center\"}},/*#__PURE__*/React.createElement(\"a\",{href:\"/dashboard/agenda/new\",className:\"btn btn-primary\"},\"New Agenda\")))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(PostList,props.agendas))),/*#__PURE__*/React.createElement(Paginate,{items:props.allAgendas,action:\"LOAD_CD_AGENDA\",limit:20,year:\"2020\"})))));}else if(section===\"edit\"){return/*#__PURE__*/React.createElement(EditPost,null);}else{return null;}};function mapStateToProps(state){return{agendas:state.agendaReducer,allAgendas:state.AllAgendasReducer};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(Agendas);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/src/components/dashboard/Agendas.jsx"],"names":["React","useEffect","useState","connect","bindActionCreators","mainAction","Button","ACTIONS","Container","Row","Col","SideNav","Paginate","EditPost","Agendas","props","section","setSection","document","title","actions","LOAD_CD_AGENDA","skip","limit","year","handleClick","history","push","loadAgenda","id","deleteAgenda","DELETE_AGENDA","setTimeout","window","location","reload","PostList","Object","values","map","agenda","orchestra","conductor","city","month","day","span","agendas","allAgendas","mapStateToProps","state","agendaReducer","AllAgendasReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react'\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { mainAction } from 'redux/actions/index.actions'\nimport { Button } from \"react-bootstrap\"\nimport { ACTIONS } from \"redux/actions/types\"\nimport { Container,Row,Col } from \"react-bootstrap\"\nimport SideNav from \"components/dashboard/SideNav\"\n//import { Link } from \"react-router-dom\";\nimport Paginate from \"components/shared/Paginate\"\nimport EditPost from \"components/dashboard/EditPost\"\n\nconst Agendas = (props) => {\n    const [section,setSection] = useState(\"list\")\n    useEffect(() => {\n        // Update the document title using the browser API\n        document.title = `JDM Dashboard | posts`;\n        //if(props.categories.length === 0)\n       \n      //props.actions.mainAction(ACTIONS.LOAD_ALL_AGENDAS,\"2020\")\n       props.actions.mainAction(ACTIONS.LOAD_CD_AGENDA,{skip:0,limit:20,year:\"2020\"})\n     //  props.actions.mainAction(ACTIONS.LOAD_PRESENTATIONS,{limit:10,skip:0})\n       \n       // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[])\n\n    const handleClick = () => {\n      props.history.push('/dashboard/agenda/new')\n    }\n    const loadAgenda = (id) => {\n      props.history.push('/dashboard/agenda/'+id)\n    }\n    const deleteAgenda = (id) => {\n      props.actions.mainAction(ACTIONS.DELETE_AGENDA,id)\n      setTimeout(()=>{ \n        window.location.reload()\n       }, 1);\n    }\n    const PostList = (props) => {\n    return Object.values(props).map(agenda =>{\n          return ( <tr key={agenda.id}>\n            <td className=\"post-title\" onClick={()=>loadAgenda(agenda)}>{agenda.orchestra}</td>\n            <td className=\"post-conductor\">{agenda.conductor}</td>\n            <td className=\"post-city\">{agenda.city}</td>\n            <td className=\"post-date\">{`${agenda.month} / ${agenda.day} / ${agenda.year}`}</td>\n            <td className=\"post-actions\">\n              <button  onClick={()=>loadAgenda(agenda.id)} className=\"btn btn-datatable btn-icon btn-transparent-dark mr-2\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-more-vertical\"><circle cx=\"12\" cy=\"12\" r=\"1\"></circle><circle cx=\"12\" cy=\"5\" r=\"1\"></circle><circle cx=\"12\" cy=\"19\" r=\"1\"></circle></svg></button> \n              \n              <button onClick={()=>deleteAgenda(agenda.id)}className=\"btn btn-datatable btn-icon btn-transparent-dark\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-trash-2\"><polyline points=\"3 6 5 6 21 6\"></polyline><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path><line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line><line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line></svg></button></td>\n          </tr> )\n        })\n    }\n    if(section === \"list\") {\n        return (<>\n        <Container   className=\"dashboard\">\n        <Row>\n            <Col lg={{span:2}}>\n               <SideNav />\n            </Col>\n            <Col lg={{span:10}}>\n            <table className=\"table table-hover\">\n          <thead >\n            <tr>\n              <th scope=\"col\" style={{\"textAlign\":\"center\"}}>Orchestra</th>\n              <th scope=\"col\" style={{\"textAlign\":\"center\"}}>Conductor</th>\n              <th scope=\"col\" style={{\"textAlign\":\"center\"}}>City</th>\n              <th scope=\"col\" style={{\"textAlign\":\"center\"}}>Date</th>\n              <th scope=\"col\" style={{\"textAlign\":\"center\"}}><a href=\"/dashboard/agenda/new\" className=\"btn btn-primary\">New Agenda</a></th>\n            </tr>\n          </thead>\n          <tbody>\n           <PostList {...props.agendas}/>\n          </tbody>\n        </table>\n  \n        <Paginate items={props.allAgendas} action={\"LOAD_CD_AGENDA\"} limit={20} year={\"2020\"}/>\n            </Col>\n        </Row>\n    </Container>\n            </>)\n    } else if (section===\"edit\") {\n        return (<EditPost />)\n    } else {\n        return null\n    }\n    \n}\n\nfunction mapStateToProps(state) {\n    return {\n        agendas:state.agendaReducer,\n        allAgendas:state.AllAgendasReducer\n    };\n  }\n  \n  function mapDispatchToProps(dispatch) {\n    return {\n      actions: bindActionCreators(\n        {\n            mainAction\n        },\n        dispatch\n      )\n    };\n  }\n  \n  export default connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Agendas);\n"]},"metadata":{},"sourceType":"module"}