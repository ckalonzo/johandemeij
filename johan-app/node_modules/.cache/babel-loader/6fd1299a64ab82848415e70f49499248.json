{"ast":null,"code":"import _slicedToArray from\"/Users/carlkalonzo/Documents/DEV/johandemeij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{Form,Container,Row,Col,Button}from\"react-bootstrap\";import{ACTIONS}from\"redux/actions/types\";import SideNav from\"components/dashboard/SideNav\";import{mainAction}from\"redux/actions/index.actions\";import dayjs from\"dayjs\";import _ from\"lodash\";var NewMusicCatalogue=function NewMusicCatalogue(props){var d=new Date();var _useState=useState(dayjs(d).format('YYYYMMDDHHmmss')),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),_id=_useState4[0],set_id=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),catalogueNumber=_useState6[0],setCatalogueNumber=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),composerArranger=_useState8[0],setComposerArranger=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),duration=_useState10[0],setDuration=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),instrumentation=_useState12[0],setInstrumentation=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),link=_useState14[0],setLink=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),priceInDollars=_useState16[0],setPriceInDollars=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),priceInEuros=_useState18[0],setPriceInEuros=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),title=_useState20[0],setTitle=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),validated=_useState22[0],setValidated=_useState22[1];useEffect(function(){// Update the document title using the browser API\nwindow.scrollTo(0,0);document.title=\"Johan De Meij | Edit Post\";props.actions.mainAction(ACTIONS.LOAD_ALL_PRESENTATIONS,[]);if(props.match.params.id)props.actions.mainAction(ACTIONS.LOAD_CATALOGUE,props.match.params.id);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var handleSubmit=function handleSubmit(event){event.preventDefault();var catalogueOrder={id:id,_id:_id,catalogueNumber:catalogueNumber,composerArranger:composerArranger,duration:duration,instrumentation:instrumentation,link:link,priceInDollars:priceInDollars,priceInEuros:priceInEuros,title:title};var form=event.currentTarget;if(form.checkValidity()===false){event.stopPropagation();}setValidated(true);console.log(catalogueOrder);props.actions.mainAction(ACTIONS.CREATE_CATALOGUE,catalogueOrder);props.history.push('/dashboard/catalogue/'+props.lastItem);};var handleUpdate=function handleUpdate(event){event.preventDefault();var catalogueOrder={id:props.catalogue.id,catalogueNumber:document.getElementById(\"catalogueNumber\").value,composerArranger:document.getElementById(\"composerArranger\").value,duration:document.getElementById(\"duration\").value,instrumentation:document.getElementById(\"instrumentation\").value,link:link,priceInDollars:document.getElementById(\"priceInDollars\").value,priceInEuros:document.getElementById(\"priceInEuros\").value,title:document.getElementById(\"title\").value};var form=event.currentTarget;if(form.checkValidity()===false){event.stopPropagation();}setValidated(true);props.actions.mainAction(ACTIONS.UPDATE_CATALOGUE,catalogueOrder);props.history.push('/dashboard/catalogue/'+id);};var getLastItem=function getLastItem(){return;};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,{className:\"dashboard\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:{span:2}},/*#__PURE__*/React.createElement(SideNav,null)),/*#__PURE__*/React.createElement(Col,{lg:{span:\"10\"}},/*#__PURE__*/React.createElement(\"section\",{id:\"product\"},/*#__PURE__*/React.createElement(Form,{noValidate:true,validated:validated,onSubmit:props.match.params.id!==\"new\"?handleUpdate:handleSubmit},/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"title\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Title\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:title?title:props.catalogue.title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a title.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"cd\"},/*#__PURE__*/React.createElement(Form.Label,null,\"CD\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,as:\"select\",onChange:function onChange(e){return setLink(e.target.value);},onBlur:function onBlur(e){return setLink(e.target.value);},defaultValue:props.catalogue.link},Object.values(_.orderBy(props.allPresentations?props.allPresentations:[],\"cdName\",\"asc\")).map(function(CD){if(CD.id===props.catalogue.link)return/*#__PURE__*/React.createElement(\"option\",{key:CD.id,value:CD.id,selected:true},CD.cdName);return/*#__PURE__*/React.createElement(\"option\",{key:CD.id,value:CD.id},CD.cdName);})),\"                    \",/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a CD.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"catalogueNumber\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Catalogue #\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:catalogueNumber?catalogueNumber:props.catalogue.catalogueNumber,onChange:function onChange(e){return setCatalogueNumber(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a title.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\"))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"composerArranger\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Composer\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:composerArranger?composerArranger:props.catalogue.composerArranger,onChange:function onChange(e){return setComposerArranger(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a title.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"duration\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Duration\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:duration?duration:props.catalogue.duration,onChange:function onChange(e){return setDuration(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a title.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\"))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"instrumentation\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Instrumentation\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:instrumentation?instrumentation:props.catalogue.instrumentation,onChange:function onChange(e){return setInstrumentation(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a title.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"priceInDollars\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Price In Dollars\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:priceInDollars?priceInDollars:props.catalogue.priceInDollars,onChange:function onChange(e){return setPriceInDollars(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a title.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\"))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"priceInEuros\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Price In Euros\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:priceInEuros?priceInEuros:props.catalogue.priceInEuros,onChange:function onChange(e){return setPriceInEuros(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a title.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")))),/*#__PURE__*/React.createElement(Button,{type:\"submit\"},props.match.params.id!==\"new\"?\"Update Order\":\"Create Order\")))))));};function mapStateToProps(state){var lastItem=_.orderBy(state.postsReducer,'ID','desc').map(function(lastItem,i){return i===0?lastItem.ID:\"\";});return{allPresentations:_.orderBy(state.AllPresentationsReducer,\"id\",\"asc\"),catalogue:state.catalogueReducer};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(NewMusicCatalogue);","map":{"version":3,"sources":["/Users/carlkalonzo/Documents/DEV/johandemeij/johan-app/src/components/dashboard/NewMusicCatalogue.jsx"],"names":["React","useEffect","useState","connect","bindActionCreators","Form","Container","Row","Col","Button","ACTIONS","SideNav","mainAction","dayjs","_","NewMusicCatalogue","props","d","Date","format","id","setId","_id","set_id","catalogueNumber","setCatalogueNumber","composerArranger","setComposerArranger","duration","setDuration","instrumentation","setInstrumentation","link","setLink","priceInDollars","setPriceInDollars","priceInEuros","setPriceInEuros","title","setTitle","validated","setValidated","window","scrollTo","document","actions","LOAD_ALL_PRESENTATIONS","match","params","LOAD_CATALOGUE","handleSubmit","event","preventDefault","catalogueOrder","form","currentTarget","checkValidity","stopPropagation","console","log","CREATE_CATALOGUE","history","push","lastItem","handleUpdate","catalogue","getElementById","value","UPDATE_CATALOGUE","getLastItem","span","e","target","Object","values","orderBy","allPresentations","map","CD","cdName","mapStateToProps","state","postsReducer","i","ID","AllPresentationsReducer","catalogueReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Form, Container, Row, Col, Button} from \"react-bootstrap\";\nimport { ACTIONS } from \"redux/actions/types\";\nimport SideNav from \"components/dashboard/SideNav\";\nimport { mainAction } from \"redux/actions/index.actions\"\nimport dayjs from \"dayjs\"\nimport _ from \"lodash\"\n\nconst NewMusicCatalogue = props => {\n    let d = new Date()\n    const [id, setId] = useState(dayjs(d).format('YYYYMMDDHHmmss'));\n    const [_id, set_id] = useState(\"\");\n    const [catalogueNumber, setCatalogueNumber] = useState();\n    const [composerArranger, setComposerArranger] = useState(\"\");\n    const [duration, setDuration] = useState(\"\");\n    const [instrumentation, setInstrumentation] = useState(\"\");\n    const [link, setLink] = useState(\"\");\n    const [priceInDollars, setPriceInDollars] = useState(\"\");\n    const [priceInEuros, setPriceInEuros] = useState(\"\");\n    const [title, setTitle] = useState(\"\");\n    const [validated, setValidated] = useState();\n    \n\n  useEffect(() => {\n    // Update the document title using the browser API\n    window.scrollTo(0,0)\n    document.title = `Johan De Meij | Edit Post`;\n    props.actions.mainAction(ACTIONS.LOAD_ALL_PRESENTATIONS,[])\n    if(props.match.params.id)\n    props.actions.mainAction(ACTIONS.LOAD_CATALOGUE,props.match.params.id)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleSubmit = event => {\n    event.preventDefault();\n    \n    let catalogueOrder = {\n        id,\n        _id,\n        catalogueNumber,\n        composerArranger,\n        duration,\n        instrumentation,\n        link,\n        priceInDollars,\n        priceInEuros,\n        title\n\n    }\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.stopPropagation();\n    }\n    setValidated(true);\n    console.log(catalogueOrder)\n   props.actions.mainAction(ACTIONS.CREATE_CATALOGUE,catalogueOrder)\n   props.history.push('/dashboard/catalogue/'+props.lastItem)\n  };\n  \n  const handleUpdate = event => {\n    event.preventDefault();\n    \n    let catalogueOrder = {\n        id:props.catalogue.id,\n        catalogueNumber : document.getElementById(\"catalogueNumber\").value,\n        composerArranger : document.getElementById(\"composerArranger\").value,\n        duration : document.getElementById(\"duration\").value,\n        instrumentation :document.getElementById(\"instrumentation\").value,\n        link ,\n        priceInDollars : document.getElementById(\"priceInDollars\").value,\n        priceInEuros : document.getElementById(\"priceInEuros\").value,\n        title : document.getElementById(\"title\").value\n\n    }\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.stopPropagation();\n    }\n    setValidated(true);\n   props.actions.mainAction(ACTIONS.UPDATE_CATALOGUE,catalogueOrder)\n   props.history.push('/dashboard/catalogue/'+id)\n  };\n  \n  const getLastItem = () => {\n    return\n  }\n\n  return (\n    <> \n      <Container  className=\"dashboard\">\n        <Row>\n          \n          <Col lg={{ span: 2 }}>\n              <SideNav />\n          </Col>\n          <Col lg={{span:\"10\" }}> \n            <section id=\"product\">\n              <Form noValidate validated={validated} onSubmit={props.match.params.id !== \"new\" ? handleUpdate:handleSubmit}>\n              <Form.Row>\n                    <Col lg=\"12\">\n                    <Form.Group as={Col}  controlId=\"title\">\n                    <Form.Label>Title</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={title ? title : props.catalogue.title}\n                      onChange={e => setTitle(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a title.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group>\n                    </Col>\n                </Form.Row>\n                <Form.Row>\n                <Col lg=\"12\"><Form.Group as={Col} controlId=\"cd\">\n                    <Form.Label>CD</Form.Label>\n                    <Form.Control\n                      required\n                      as=\"select\"\n                      onChange={e => setLink(e.target.value)}\n                      onBlur={e => setLink(e.target.value)}\n                      defaultValue={props.catalogue.link}\n                    >\n              {Object.values(_.orderBy(props.allPresentations ? props.allPresentations:[],\"cdName\",\"asc\")).map(CD=>{\n              if(CD.id === props.catalogue.link)\n              return <option key={CD.id} value={CD.id} selected>{CD.cdName}</option>\n              return <option key={CD.id} value={CD.id} >{CD.cdName}</option>\n              })}\n                        \n                    </Form.Control>                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a CD.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group></Col>\n                </Form.Row>\n                <Form.Row>\n                    <Col lg=\"6\">\n                    <Form.Group as={Col}  controlId=\"catalogueNumber\">\n                    <Form.Label>Catalogue #</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={catalogueNumber ? catalogueNumber:props.catalogue.catalogueNumber}\n                      onChange={e => setCatalogueNumber(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a title.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group>\n                    </Col>\n                    <Col lg=\"6\">\n                    <Form.Group as={Col}  controlId=\"composerArranger\">\n                    <Form.Label>Composer</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={composerArranger ? composerArranger : props.catalogue.composerArranger}\n                      onChange={e => setComposerArranger(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a title.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group>\n                    </Col>\n                </Form.Row>\n                <Form.Row>\n                    <Col lg=\"6\">\n                    <Form.Group as={Col}  controlId=\"duration\">\n                    <Form.Label>Duration</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={duration ? duration: props.catalogue.duration}\n                      onChange={e => setDuration(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a title.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group>\n                    </Col>\n                    <Col lg=\"6\">\n                    <Form.Group as={Col}  controlId=\"instrumentation\">\n                    <Form.Label>Instrumentation</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={instrumentation ? instrumentation : props.catalogue.instrumentation}\n                      onChange={e => setInstrumentation(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a title.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group>\n                    </Col>\n                </Form.Row>\n                <Form.Row>\n                    <Col lg=\"6\">\n                    <Form.Group as={Col}  controlId=\"priceInDollars\">\n                    <Form.Label>Price In Dollars</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={priceInDollars ? priceInDollars : props.catalogue.priceInDollars}\n                      onChange={e => setPriceInDollars(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a title.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group>\n                    </Col>\n                    <Col lg=\"6\">\n                    <Form.Group as={Col}  controlId=\"priceInEuros\">\n                    <Form.Label>Price In Euros</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={priceInEuros ? priceInEuros : props.catalogue.priceInEuros}\n                      onChange={e => setPriceInEuros(e.target.value)}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a title.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group>\n                    </Col>\n                </Form.Row>\n                <Button type=\"submit\">{props.match.params.id !== \"new\" ? \"Update Order\":\"Create Order\"}</Button>\n              </Form> \n            </section>\n          </Col>\n        </Row> \n      </Container>\n    </>\n  );\n};\nfunction mapStateToProps(state) {\n    let lastItem = _.orderBy(state.postsReducer,'ID','desc').map((lastItem,i) =>{\n        return i===0 ? lastItem.ID :\"\"\n    })\n  return {\n    allPresentations:_.orderBy(state.AllPresentationsReducer,\"id\",\"asc\"),\n    catalogue:state.catalogueReducer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({mainAction}, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewMusicCatalogue);\n"]},"metadata":{},"sourceType":"module"}