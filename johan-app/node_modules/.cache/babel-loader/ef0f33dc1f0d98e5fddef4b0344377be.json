{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{Form,Container,Row,Col,Button}from\"react-bootstrap\";import{ACTIONS}from\"redux/actions/types\";import SideNav from\"components/dashboard/SideNav\";import{mainAction}from\"redux/actions/index.actions\";import CKEditor from'@ckeditor/ckeditor5-react';import ClassicEditor from'@ckeditor/ckeditor5-build-classic';import _ from\"lodash\";var NewAgenda=function NewAgenda(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),validated=_useState2[0],setValidated=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),field_orchestra=_useState4[0],setOrchestra=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),field_conductor=_useState6[0],setConductor=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),field_country=_useState8[0],setCountry=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),field_synopsis=_useState10[0],setSynopsis=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),field_time=_useState12[0],setTime=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),field_location=_useState14[0],setlocation=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),field_cd=_useState16[0],setCd=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),field_city=_useState18[0],setCity=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),field_showAgenda=_useState20[0],setShowAgenda=_useState20[1];var _useState21=useState(\"12\"),_useState22=_slicedToArray(_useState21,2),field_month=_useState22[0],setMonth=_useState22[1];var _useState23=useState(\"12\"),_useState24=_slicedToArray(_useState23,2),field_day=_useState24[0],setDay=_useState24[1];var _useState25=useState(\"2020\"),_useState26=_slicedToArray(_useState25,2),field_year=_useState26[0],setYear=_useState26[1];var id=(+Object.keys(props.allAgendas)[Object.keys(props.allAgendas).length-1]+3882).toString();useEffect(function(){// Update the document title using the browser API\nwindow.scrollTo(0,0);props.actions.mainAction(ACTIONS.LOAD_ALL_PRESENTATIONS,[]);var agendaId=props.match.params.id.toString();if(agendaId)props.actions.mainAction(ACTIONS.LOAD_AGENDA,agendaId);props.actions.mainAction(ACTIONS.LOAD_ALL_AGENDAS,\"2020\");// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var handleSubmit=function handleSubmit(event){event.preventDefault();var agendaItem={id:id,conductor:field_conductor,orchestra:field_orchestra,synopsis:field_synopsis,time:field_time,country:field_country,location:field_location,cd:field_cd,city:field_city,ON_OFF:field_showAgenda?field_showAgenda.toString():document.getElementById('showpost').value.toString(),month:field_month,day:field_day,year:field_year,date:\"\".concat(field_month,\"-\").concat(field_day,\"-\").concat(field_year)};var form=event.currentTarget;if(form.checkValidity()===false){event.stopPropagation();}console.log(agendaItem);setValidated(true);props.actions.mainAction(ACTIONS.CREATE_NEW_AGENDA,agendaItem);props.history.push('/dashboard/agenda/edit/'+id);};var handleUpdate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var agendaItem,input,nativeInputValueSetter,inputEvent,form;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();agendaItem={id:props.agenda.id,_id:props.agenda._id,conductor:document.getElementById('conductor').value,synopsis:field_synopsis,orchestra:document.getElementById('orchestra').value,time:document.getElementById('time').value,location:document.getElementById('location').value,country:document.getElementById('country').value,cd:document.getElementById('cd').value,city:document.getElementById('city').value,ON_OFF:document.getElementById('showpost').value,month:document.getElementById('month').value,day:document.getElementById('day').value,year:document.getElementById('year').value,date:\"\".concat(document.getElementById('month').value,\"-\").concat(document.getElementById('day').value,\"-\").concat(document.getElementById('year').value)};input=document.querySelector(\"form:first-child input\");nativeInputValueSetter=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,\"value\").set;nativeInputValueSetter.call(input,\"\");inputEvent=new Event(\"input\",{bubbles:true});input.dispatchEvent(inputEvent);form=event.currentTarget;if(form.checkValidity()===false){event.stopPropagation();}setValidated(true);props.actions.mainAction(ACTIONS.UPDATE_AGENDA,agendaItem);case 11:case\"end\":return _context.stop();}}},_callee);}));return function handleUpdate(_x){return _ref.apply(this,arguments);};}();var renderMonths=function renderMonths(){var months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];return months.map(function(month,i){i=i+1;if(i===+props.agenda.month)return/*#__PURE__*/React.createElement(\"option\",{key:i,value:i,selected:true},month);return/*#__PURE__*/React.createElement(\"option\",{key:i,value:i},month);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,{className:\"dashboard\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:{span:2}},/*#__PURE__*/React.createElement(SideNav,null)),/*#__PURE__*/React.createElement(Col,{lg:{span:\"10\"}},/*#__PURE__*/React.createElement(\"section\",{id:\"product\"},/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\",style:{padding:\"0 0 30px 20px\"}},\"id:\",id)),/*#__PURE__*/React.createElement(Form,{noValidate:true,validated:validated,onSubmit:Object.keys(props.agenda).length>0?handleUpdate:handleSubmit},/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"showpost\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Show Agenda \",props.agenda.ON_OFF),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",custom:true,onChange:function onChange(e){return setShowAgenda(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",{value:props.agenda.ON_OFF},parseInt(props.agenda.ON_OFF,10)===1?\"ON\":\"OFF\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"ON\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"OFF\")),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Agenda status update.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\"))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"conductor\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Conductor\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:props.agenda.conductor,onChange:function onChange(e){return setConductor(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a Sub title.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")))),\" \",/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"location\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Location\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:props.agenda.location,onChange:function onChange(e){return setlocation(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a location.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\"))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},\" \",/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"country\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Country\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:props.agenda.country,onChange:function onChange(e){return setCountry(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a instrumentaion.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"orchestra\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Orchestra\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:props.agenda.orchestra,onChange:function onChange(e){return setOrchestra(e.target.value);},onBlur:function onBlur(e){return setOrchestra(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a name.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")),\" \"),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"time\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Time\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:props.agenda.time,onChange:function onChange(e){return setTime(e.target.value);},onBlur:function onBlur(e){return setTime(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a product description.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"city\"},/*#__PURE__*/React.createElement(Form.Label,null,\"City\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"\",defaultValue:props.agenda.city,onChange:function onChange(e){return setCity(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a cd.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\")))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\"},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"cd\"},/*#__PURE__*/React.createElement(Form.Label,null,\"CD\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,as:\"select\",onChange:function onChange(e){return setCd(e.target.value);},onBlur:function onBlur(e){return setCd(e.target.value);},defaultValue:props.agenda.cd},Object.values(_.orderBy(props.allPresentations,\"cdName\",\"asc\")).map(function(CD){if(CD.id===props.agenda.cd)return/*#__PURE__*/React.createElement(\"option\",{key:CD.id,value:CD.id,selected:true},CD.cdName);return/*#__PURE__*/React.createElement(\"option\",{key:CD.id,value:CD.id},CD.cdName);})),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a CD.\"),/*#__PURE__*/React.createElement(Form.Control.Feedback,null,\"Looks good!\"))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"})),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:4},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"month\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Month\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,as:\"select\",onChange:function onChange(e){return setMonth(e.target.value);},onBlur:function onBlur(e){return setMonth(e.target.value);},value:props.agenda.category},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"--Select Month--\"),renderMonths()))),/*#__PURE__*/React.createElement(Col,{lg:4},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"day\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Day\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,as:\"select\",onChange:function onChange(e){return setDay(e.target.value);},onBlur:function onBlur(e){return setDay(e.target.value);},defaultValue:props.agenda.category},/*#__PURE__*/React.createElement(\"option\",null,\"-- Day --\"),/*#__PURE__*/React.createElement(\"option\",{value:props.agenda.day,selected:true},props.agenda.day),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"1\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"2\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"3\"),/*#__PURE__*/React.createElement(\"option\",{value:\"4\"},\"4\"),/*#__PURE__*/React.createElement(\"option\",{value:\"5\"},\"5\"),/*#__PURE__*/React.createElement(\"option\",{value:\"6\"},\"6\"),/*#__PURE__*/React.createElement(\"option\",{value:\"7\"},\"7\"),/*#__PURE__*/React.createElement(\"option\",{value:\"8\"},\"8\"),/*#__PURE__*/React.createElement(\"option\",{value:\"9\"},\"9\"),/*#__PURE__*/React.createElement(\"option\",{value:\"10\"},\"10\"),/*#__PURE__*/React.createElement(\"option\",{value:\"11\"},\"11\"),/*#__PURE__*/React.createElement(\"option\",{value:\"12\"},\"12\"),/*#__PURE__*/React.createElement(\"option\",{value:\"13\"},\"13\"),/*#__PURE__*/React.createElement(\"option\",{value:\"14\"},\"14\"),/*#__PURE__*/React.createElement(\"option\",{value:\"15\"},\"15\"),/*#__PURE__*/React.createElement(\"option\",{value:\"16\"},\"16\"),/*#__PURE__*/React.createElement(\"option\",{value:\"17\"},\"17\"),/*#__PURE__*/React.createElement(\"option\",{value:\"18\"},\"18\"),/*#__PURE__*/React.createElement(\"option\",{value:\"19\"},\"19\"),/*#__PURE__*/React.createElement(\"option\",{value:\"20\"},\"20\"),/*#__PURE__*/React.createElement(\"option\",{value:\"21\"},\"21\"),/*#__PURE__*/React.createElement(\"option\",{value:\"22\"},\"22\"),/*#__PURE__*/React.createElement(\"option\",{value:\"23\"},\"23\"),/*#__PURE__*/React.createElement(\"option\",{value:\"24\"},\"24\"),/*#__PURE__*/React.createElement(\"option\",{value:\"25\"},\"25\"),/*#__PURE__*/React.createElement(\"option\",{value:\"26\"},\"26\"),/*#__PURE__*/React.createElement(\"option\",{value:\"27\"},\"27\"),/*#__PURE__*/React.createElement(\"option\",{value:\"28\"},\"28\"),/*#__PURE__*/React.createElement(\"option\",{value:\"29\"},\"29\"),/*#__PURE__*/React.createElement(\"option\",{value:\"30\"},\"30\"),/*#__PURE__*/React.createElement(\"option\",{value:\"31\"},\"31\")))),/*#__PURE__*/React.createElement(Col,{lg:4},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"year\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Year\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,as:\"select\",onChange:function onChange(e){return setYear(e.target.value);},onBlur:function onBlur(e){return setYear(e.target.value);},defaultValue:props.agenda.category},/*#__PURE__*/React.createElement(\"option\",null,\"-- Year --\"),/*#__PURE__*/React.createElement(\"option\",{value:props.agenda.year,selected:true},props.agenda.year),/*#__PURE__*/React.createElement(\"option\",{value:\"2020\"},\"2020\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2021\"},\"2021\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2022\"},\"2022\"))))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"synopsis\"},/*#__PURE__*/React.createElement(CKEditor,{editor:ClassicEditor,data:props.agenda.synopsis?props.agenda.synopsis:field_synopsis,toolbar:('heading','|','bold','italic','link','bulletedList','numberedList','blockQuote'),onInit:function onInit(editor){// You can store the \"editor\" and use when it is needed.\n// console.log( 'Editor is ready to use!', editor );\n},onChange:function onChange(event,editor){var data=editor.getData();// console.log( { event, editor, data } );\nsetSynopsis(data);},onBlur:function onBlur(event,editor){var data=editor.getData();console.log('Blur.',editor);setSynopsis(data);},onFocus:function onFocus(event,editor){console.log('Focus.',editor);}})))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Button,{type:\"submit\"},Object.keys(props.agenda).length>0?\"Update Publication\":\"Create Publication\")))))))));};function mapStateToProps(state){return{allPresentations:_.orderBy(state.AllPresentationsReducer,\"id\",\"asc\"),categories:state.musicReducer.categories,presentation:state.presentationReducer,agenda:state.agendaReducer,allAgendas:state.AllAgendasReducer};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(NewAgenda);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/src/components/dashboard/NewAgenda.jsx"],"names":["React","useEffect","useState","connect","bindActionCreators","Form","Container","Row","Col","Button","ACTIONS","SideNav","mainAction","CKEditor","ClassicEditor","_","NewAgenda","props","validated","setValidated","field_orchestra","setOrchestra","field_conductor","setConductor","field_country","setCountry","field_synopsis","setSynopsis","field_time","setTime","field_location","setlocation","field_cd","setCd","field_city","setCity","field_showAgenda","setShowAgenda","field_month","setMonth","field_day","setDay","field_year","setYear","id","Object","keys","allAgendas","length","toString","window","scrollTo","actions","LOAD_ALL_PRESENTATIONS","agendaId","match","params","LOAD_AGENDA","LOAD_ALL_AGENDAS","handleSubmit","event","preventDefault","agendaItem","conductor","orchestra","synopsis","time","country","location","cd","city","ON_OFF","document","getElementById","value","month","day","year","date","form","currentTarget","checkValidity","stopPropagation","console","log","CREATE_NEW_AGENDA","history","push","handleUpdate","agenda","_id","input","querySelector","nativeInputValueSetter","getOwnPropertyDescriptor","HTMLInputElement","prototype","set","call","inputEvent","Event","bubbles","dispatchEvent","UPDATE_AGENDA","renderMonths","months","map","i","span","padding","e","target","parseInt","values","orderBy","allPresentations","CD","cdName","category","editor","data","getData","mapStateToProps","state","AllPresentationsReducer","categories","musicReducer","presentation","presentationReducer","agendaReducer","AllAgendasReducer","mapDispatchToProps","dispatch"],"mappings":"ghBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,GAA1B,CAA+BC,GAA/B,CAAoCC,MAApC,KAAiD,iBAAjD,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,OAASC,UAAT,KAA2B,6BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,mCAA1B,CAEA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,eACSf,QAAQ,CAAC,KAAD,CADjB,wCAClBgB,SADkB,eACPC,YADO,8BAEcjB,QAAQ,CAAC,EAAD,CAFtB,yCAElBkB,eAFkB,eAEFC,YAFE,8BAGcnB,QAAQ,CAAC,EAAD,CAHtB,yCAGlBoB,eAHkB,eAGFC,YAHE,8BAIUrB,QAAQ,CAAC,EAAD,CAJlB,yCAIlBsB,aAJkB,eAIJC,UAJI,8BAKYvB,QAAQ,CAAC,EAAD,CALpB,0CAKlBwB,cALkB,gBAKHC,WALG,gCAMIzB,QAAQ,CAAC,EAAD,CANZ,2CAMlB0B,UANkB,gBAMPC,OANO,gCAOY3B,QAAQ,CAAC,EAAD,CAPpB,2CAOlB4B,cAPkB,gBAOHC,WAPG,gCAQA7B,QAAQ,CAAC,EAAD,CARR,2CAQlB8B,QARkB,gBAQTC,KARS,gCASI/B,QAAQ,CAAC,EAAD,CATZ,2CASlBgC,UATkB,gBASPC,OATO,gCAUgBjC,QAAQ,EAVxB,2CAUlBkC,gBAVkB,gBAUDC,aAVC,gCAWMnC,QAAQ,CAAC,IAAD,CAXd,2CAWlBoC,WAXkB,gBAWNC,QAXM,gCAYErC,QAAQ,CAAC,IAAD,CAZV,2CAYlBsC,SAZkB,gBAYRC,MAZQ,gCAaIvC,QAAQ,CAAC,MAAD,CAbZ,2CAalBwC,UAbkB,gBAaPC,OAbO,gBAczB,GAAMC,CAAAA,EAAE,CAAG,CAAC,CAACC,MAAM,CAACC,IAAP,CAAY7B,KAAK,CAAC8B,UAAlB,EAA8BF,MAAM,CAACC,IAAP,CAAY7B,KAAK,CAAC8B,UAAlB,EAA8BC,MAA9B,CAAqC,CAAnE,CAAD,CAAuE,IAAxE,EAA8EC,QAA9E,EAAX,CACAhD,SAAS,CAAC,UAAM,CACd;AACAiD,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAkB,CAAlB,EACAlC,KAAK,CAACmC,OAAN,CAAcxC,UAAd,CAAyBF,OAAO,CAAC2C,sBAAjC,CAAwD,EAAxD,EACA,GAAIC,CAAAA,QAAQ,CAAGrC,KAAK,CAACsC,KAAN,CAAYC,MAAZ,CAAmBZ,EAAnB,CAAsBK,QAAtB,EAAf,CACA,GAAGK,QAAH,CACArC,KAAK,CAACmC,OAAN,CAAcxC,UAAd,CAAyBF,OAAO,CAAC+C,WAAjC,CAA6CH,QAA7C,EACArC,KAAK,CAACmC,OAAN,CAAcxC,UAAd,CAAyBF,OAAO,CAACgD,gBAAjC,CAAkD,MAAlD,EAEA;AACD,CAVQ,CAUN,EAVM,CAAT,CAWA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC5BA,KAAK,CAACC,cAAN,GAEA,GAAIC,CAAAA,UAAU,CAAG,CACblB,EAAE,CAAFA,EADa,CAEbmB,SAAS,CAACzC,eAFG,CAGb0C,SAAS,CAAC5C,eAHG,CAIb6C,QAAQ,CAACvC,cAJI,CAKbwC,IAAI,CAACtC,UALQ,CAMbuC,OAAO,CAAC3C,aANK,CAOb4C,QAAQ,CAACtC,cAPI,CAQbuC,EAAE,CAACrC,QARU,CASbsC,IAAI,CAACpC,UATQ,CAUbqC,MAAM,CAACnC,gBAAgB,CAAGA,gBAAgB,CAACa,QAAjB,EAAH,CAA+BuB,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CzB,QAA1C,EAVzC,CAWb0B,KAAK,CAACrC,WAXO,CAYbsC,GAAG,CAACpC,SAZS,CAabqC,IAAI,CAACnC,UAbQ,CAcboC,IAAI,WAAIxC,WAAJ,aAAmBE,SAAnB,aAAgCE,UAAhC,CAdS,CAAjB,CAgBA,GAAMqC,CAAAA,IAAI,CAAGnB,KAAK,CAACoB,aAAnB,CACA,GAAID,IAAI,CAACE,aAAL,KAAyB,KAA7B,CAAoC,CAClCrB,KAAK,CAACsB,eAAN,GACD,CACDC,OAAO,CAACC,GAAR,CAAYtB,UAAZ,EACA3C,YAAY,CAAC,IAAD,CAAZ,CACDF,KAAK,CAACmC,OAAN,CAAcxC,UAAd,CAAyBF,OAAO,CAAC2E,iBAAjC,CAAmDvB,UAAnD,EACA7C,KAAK,CAACqE,OAAN,CAAcC,IAAd,CAAmB,0BAA0B3C,EAA7C,EACA,CA3BD,CA4BA,GAAM4C,CAAAA,YAAY,0FAAG,iBAAM5B,KAAN,8KACnBA,KAAK,CAACC,cAAN,GACIC,UAFe,CAEF,CACblB,EAAE,CAAC3B,KAAK,CAACwE,MAAN,CAAa7C,EADH,CAEb8C,GAAG,CAACzE,KAAK,CAACwE,MAAN,CAAaC,GAFJ,CAGb3B,SAAS,CAACS,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAHlC,CAIbT,QAAQ,CAACvC,cAJI,CAKbsC,SAAS,CAACQ,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KALlC,CAMbR,IAAI,CAACM,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KANxB,CAObN,QAAQ,CAACI,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAPhC,CAQbP,OAAO,CAACK,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAR9B,CASbL,EAAE,CAACG,QAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BC,KATpB,CAUbJ,IAAI,CAACE,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KAVxB,CAWbH,MAAM,CAACC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAX9B,CAYbC,KAAK,CAACH,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAZ1B,CAabE,GAAG,CAACJ,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BC,KAbtB,CAcbG,IAAI,CAACL,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KAdxB,CAebI,IAAI,WAAIN,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAArC,aAA8CF,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BC,KAA7E,aAAsFF,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KAAtH,CAfS,CAFE,CAmBdiB,KAnBc,CAmBNnB,QAAQ,CAACoB,aAAT,CAAuB,wBAAvB,CAnBM,CAoBdC,sBApBc,CAoBWhD,MAAM,CAACiD,wBAAP,CAC5B5C,MAAM,CAAC6C,gBAAP,CAAwBC,SADI,CAE5B,OAF4B,EAG5BC,GAvBiB,CAwBnBJ,sBAAsB,CAACK,IAAvB,CAA4BP,KAA5B,CAAmC,EAAnC,EAEKQ,UA1Bc,CA0BD,GAAIC,CAAAA,KAAJ,CAAU,OAAV,CAAmB,CAAEC,OAAO,CAAE,IAAX,CAAnB,CA1BC,CA2BnBV,KAAK,CAACW,aAAN,CAAoBH,UAApB,EACMpB,IA5Ba,CA4BNnB,KAAK,CAACoB,aA5BA,CA6BnB,GAAID,IAAI,CAACE,aAAL,KAAyB,KAA7B,CAAoC,CAClCrB,KAAK,CAACsB,eAAN,GACD,CACD/D,YAAY,CAAC,IAAD,CAAZ,CACAF,KAAK,CAACmC,OAAN,CAAcxC,UAAd,CAAyBF,OAAO,CAAC6F,aAAjC,CAA+CzC,UAA/C,EAjCmB,uDAAH,kBAAZ0B,CAAAA,YAAY,4CAAlB,CAoCA,GAAMgB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,MAAM,CAAE,CAAC,SAAD,CAAW,UAAX,CAAsB,OAAtB,CAA8B,OAA9B,CAAsC,KAAtC,CAA4C,MAA5C,CAAmD,MAAnD,CACd,QADc,CACL,WADK,CACO,SADP,CACiB,UADjB,CAC4B,UAD5B,CAAd,CAED,MAAOA,CAAAA,MAAM,CAACC,GAAP,CAAW,SAAC/B,KAAD,CAAOgC,CAAP,CAAW,CAC1BA,CAAC,CAACA,CAAC,CAAC,CAAJ,CACF,GAAGA,CAAC,GAAK,CAAC1F,KAAK,CAACwE,MAAN,CAAad,KAAvB,CACA,mBAAO,8BAAQ,GAAG,CAAEgC,CAAb,CAAgB,KAAK,CAAEA,CAAvB,CAA0B,QAAQ,KAAlC,EAAoChC,KAApC,CAAP,CACA,mBAAO,8BAAQ,GAAG,CAAEgC,CAAb,CAAgB,KAAK,CAAEA,CAAvB,EAA2BhC,KAA3B,CAAP,CACC,CALK,CAAP,CAMA,CATD,CAUA,mBACE,qDACE,oBAAC,SAAD,EAAW,SAAS,CAAC,WAArB,eAEE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAEiC,IAAI,CAAE,CAAR,CAAT,eAAsB,oBAAC,OAAD,MAAtB,CADF,cAEE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAACA,IAAI,CAAC,IAAN,CAAT,eACE,+BAAS,EAAE,CAAC,SAAZ,eACA,oBAAC,IAAD,CAAM,GAAN,mBAAU,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,KAAK,CAAE,CAACC,OAAO,CAAC,eAAT,CAAnB,QAAkDjE,EAAlD,CAAV,CADA,cAEE,oBAAC,IAAD,EAAM,UAAU,KAAhB,CAAiB,SAAS,CAAE1B,SAA5B,CAAuC,QAAQ,CAAE2B,MAAM,CAACC,IAAP,CAAY7B,KAAK,CAACwE,MAAlB,EAA0BzC,MAA1B,CAAmC,CAAnC,CAAsCwC,YAAtC,CAAoD7B,YAArG,eACA,oBAAC,IAAD,CAAM,GAAN,mBAAU,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACI,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAEnD,GAAhB,CAAqB,SAAS,CAAC,UAA/B,eACE,oBAAC,IAAD,CAAM,KAAN,qBAAyBS,KAAK,CAACwE,MAAN,CAAalB,MAAtC,CADF,cAGE,oBAAC,IAAD,CAAM,OAAN,EACE,EAAE,CAAC,QADL,CAEE,MAAM,KAFR,CAGE,QAAQ,CAAE,kBAAAuC,CAAC,QAAIzE,CAAAA,aAAa,CAACyE,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAjB,EAHb,eAKE,8BAAQ,KAAK,CAAEzD,KAAK,CAACwE,MAAN,CAAalB,MAA5B,EAAqCyC,QAAQ,CAAC/F,KAAK,CAACwE,MAAN,CAAalB,MAAd,CAAqB,EAArB,CAAR,GAAqC,CAArC,CAAyC,IAAzC,CAA8C,KAAnF,CALF,cAME,8BAAQ,KAAK,CAAC,GAAd,OANF,cAOE,8BAAQ,KAAK,CAAC,GAAd,QAPF,CAHF,cAYE,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,0BAZF,cAeN,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,oBAfM,CADJ,CAAV,cAmBG,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACC,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAE/D,GAAhB,CAAuB,SAAS,CAAC,WAAjC,eACA,oBAAC,IAAD,CAAM,KAAN,kBADA,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,EAHd,CAIE,YAAY,CAAES,KAAK,CAACwE,MAAN,CAAa1B,SAJ7B,CAKE,QAAQ,CAAE,kBAAA+C,CAAC,QAAIvF,CAAAA,YAAY,CAACuF,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAhB,EALb,EAFF,cAUE,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,gCAVF,cAaE,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,oBAbF,CADD,CAnBH,CADA,kBAsCgB,oBAAC,IAAD,CAAM,GAAN,mBACZ,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eAAY,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAElE,GAAhB,CAAsB,SAAS,CAAC,UAAhC,eACV,oBAAC,IAAD,CAAM,KAAN,iBADU,cAEV,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,EAHd,CAIE,YAAY,CAAES,KAAK,CAACwE,MAAN,CAAarB,QAJ7B,CAKE,QAAQ,CAAE,kBAAA0C,CAAC,QAAI/E,CAAAA,WAAW,CAAC+E,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAf,EALb,EAFU,cAUV,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,+BAVU,cAaV,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,oBAbU,CAAZ,CADY,cAgBZ,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,mBAAa,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAElE,GAAhB,CAAsB,SAAS,CAAC,SAAhC,eACX,oBAAC,IAAD,CAAM,KAAN,gBADW,cAEX,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,EAHd,CAIE,YAAY,CAAES,KAAK,CAACwE,MAAN,CAAatB,OAJ7B,CAKE,QAAQ,CAAE,kBAAA2C,CAAC,QAAIrF,CAAAA,UAAU,CAACqF,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAd,EALb,EAFW,cAUX,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,qCAVW,cAaX,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,oBAbW,CAAb,CAhBY,CAtChB,cAsEE,oBAAC,IAAD,CAAM,GAAN,mBACA,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eAAY,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAElE,GAAhB,CAAsB,SAAS,CAAC,WAAhC,eACP,oBAAC,IAAD,CAAM,KAAN,kBADO,cAER,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,EAHd,CAIE,YAAY,CAAES,KAAK,CAACwE,MAAN,CAAazB,SAJ7B,CAKE,QAAQ,CAAE,kBAAA8C,CAAC,QAAIzF,CAAAA,YAAY,CAACyF,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAhB,EALb,CAME,MAAM,CAAE,gBAAAoC,CAAC,QAAIzF,CAAAA,YAAY,CAACyF,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAhB,EANX,EAFQ,cAUR,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,2BAVQ,cAaR,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,oBAbQ,CAAZ,KADA,cAkBA,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eAAY,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAElE,GAAhB,CAAqB,SAAS,CAAC,MAA/B,eACR,oBAAC,IAAD,CAAM,KAAN,aADQ,cAER,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,EAHd,CAIE,YAAY,CAAES,KAAK,CAACwE,MAAN,CAAavB,IAJ7B,CAKE,QAAQ,CAAE,kBAAA4C,CAAC,QAAIjF,CAAAA,OAAO,CAACiF,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAX,EALb,CAME,MAAM,CAAE,gBAAAoC,CAAC,QAAIjF,CAAAA,OAAO,CAACiF,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAX,EANX,EAFQ,cAUR,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,0CAVQ,cAaR,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,oBAbQ,CAAZ,CAlBA,CAtEF,cAyGE,oBAAC,IAAD,CAAM,GAAN,mBAEI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACA,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAElE,GAAhB,CAAqB,SAAS,CAAC,MAA/B,eACA,oBAAC,IAAD,CAAM,KAAN,aADA,cAEA,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,EAHd,CAIE,YAAY,CAAES,KAAK,CAACwE,MAAN,CAAanB,IAJ7B,CAKE,QAAQ,CAAE,kBAAAwC,CAAC,QAAI3E,CAAAA,OAAO,CAAC2E,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAX,EALb,EAFA,cAUA,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,yBAVA,cAaA,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,oBAbA,CADA,CAFJ,CAzGF,cA6HE,oBAAC,IAAD,CAAM,GAAN,mBACA,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,eACA,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAElE,GAAhB,CAAqB,SAAS,CAAC,IAA/B,eACI,oBAAC,IAAD,CAAM,KAAN,WADJ,cAGI,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,EAAE,CAAC,QAFL,CAGE,QAAQ,CAAE,kBAAAsG,CAAC,QAAI7E,CAAAA,KAAK,CAAC6E,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAT,EAHb,CAIE,MAAM,CAAE,gBAAAoC,CAAC,QAAI7E,CAAAA,KAAK,CAAC6E,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAT,EAJX,CAKE,YAAY,CAAEzD,KAAK,CAACwE,MAAN,CAAapB,EAL7B,EAOLxB,MAAM,CAACoE,MAAP,CAAclG,CAAC,CAACmG,OAAF,CAAUjG,KAAK,CAACkG,gBAAhB,CAAiC,QAAjC,CAA0C,KAA1C,CAAd,EAAgET,GAAhE,CAAoE,SAAAU,EAAE,CAAE,CACzE,GAAGA,EAAE,CAACxE,EAAH,GAAU3B,KAAK,CAACwE,MAAN,CAAapB,EAA1B,CACA,mBAAO,8BAAQ,GAAG,CAAE+C,EAAE,CAACxE,EAAhB,CAAoB,KAAK,CAAEwE,EAAE,CAACxE,EAA9B,CAAkC,QAAQ,KAA1C,EAA4CwE,EAAE,CAACC,MAA/C,CAAP,CACA,mBAAO,8BAAQ,GAAG,CAAED,EAAE,CAACxE,EAAhB,CAAoB,KAAK,CAAEwE,EAAE,CAACxE,EAA9B,EAAoCwE,EAAE,CAACC,MAAvC,CAAP,CACC,CAJA,CAPK,CAHJ,cAiBI,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,yBAjBJ,cAoBI,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,oBApBJ,CADA,CADA,cAwBA,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,EAxBA,CA7HF,cAyJE,oBAAC,IAAD,CAAM,GAAN,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACA,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAE7G,GAAhB,CAAqB,SAAS,CAAC,OAA/B,eACA,oBAAC,IAAD,CAAM,KAAN,cADA,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,EAAE,CAAC,QAFL,CAGE,QAAQ,CAAE,kBAAAsG,CAAC,QAAIvE,CAAAA,QAAQ,CAACuE,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAZ,EAHb,CAIE,MAAM,CAAE,gBAAAoC,CAAC,QAAIvE,CAAAA,QAAQ,CAACuE,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAZ,EAJX,CAKE,KAAK,CAAEzD,KAAK,CAACwE,MAAN,CAAa6B,QALtB,eAOA,8BAAQ,KAAK,CAAC,EAAd,qBAPA,CAQCd,YAAY,EARb,CAFF,CADA,CADF,cAiBE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACA,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAEhG,GAAhB,CAAqB,SAAS,CAAC,KAA/B,eACA,oBAAC,IAAD,CAAM,KAAN,YADA,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,EAAE,CAAC,QAFL,CAGE,QAAQ,CAAE,kBAAAsG,CAAC,QAAIrE,CAAAA,MAAM,CAACqE,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAV,EAHb,CAIE,MAAM,CAAE,gBAAAoC,CAAC,QAAIrE,CAAAA,MAAM,CAACqE,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAV,EAJX,CAKE,YAAY,CAAEzD,KAAK,CAACwE,MAAN,CAAa6B,QAL7B,eAOD,8CAPC,cAQF,8BAAQ,KAAK,CAAErG,KAAK,CAACwE,MAAN,CAAab,GAA5B,CAAiC,QAAQ,KAAzC,EAA2C3D,KAAK,CAACwE,MAAN,CAAab,GAAxD,CARE,cASpB,8BAAQ,KAAK,CAAC,GAAd,MAToB,cAUpB,8BAAQ,KAAK,CAAC,GAAd,MAVoB,cAWpB,8BAAQ,KAAK,CAAC,GAAd,MAXoB,cAYpB,8BAAQ,KAAK,CAAC,GAAd,MAZoB,cAapB,8BAAQ,KAAK,CAAC,GAAd,MAboB,cAcpB,8BAAQ,KAAK,CAAC,GAAd,MAdoB,cAepB,8BAAQ,KAAK,CAAC,GAAd,MAfoB,cAgBpB,8BAAQ,KAAK,CAAC,GAAd,MAhBoB,cAiBpB,8BAAQ,KAAK,CAAC,GAAd,MAjBoB,cAkBpB,8BAAQ,KAAK,CAAC,IAAd,OAlBoB,cAmBpB,8BAAQ,KAAK,CAAC,IAAd,OAnBoB,cAoBpB,8BAAQ,KAAK,CAAC,IAAd,OApBoB,cAqBpB,8BAAQ,KAAK,CAAC,IAAd,OArBoB,cAsBpB,8BAAQ,KAAK,CAAC,IAAd,OAtBoB,cAuBpB,8BAAQ,KAAK,CAAC,IAAd,OAvBoB,cAwBpB,8BAAQ,KAAK,CAAC,IAAd,OAxBoB,cAyBpB,8BAAQ,KAAK,CAAC,IAAd,OAzBoB,cA0BpB,8BAAQ,KAAK,CAAC,IAAd,OA1BoB,cA2BpB,8BAAQ,KAAK,CAAC,IAAd,OA3BoB,cA4BpB,8BAAQ,KAAK,CAAC,IAAd,OA5BoB,cA6BpB,8BAAQ,KAAK,CAAC,IAAd,OA7BoB,cA8BpB,8BAAQ,KAAK,CAAC,IAAd,OA9BoB,cA+BpB,8BAAQ,KAAK,CAAC,IAAd,OA/BoB,cAgCpB,8BAAQ,KAAK,CAAC,IAAd,OAhCoB,cAiCpB,8BAAQ,KAAK,CAAC,IAAd,OAjCoB,cAkCpB,8BAAQ,KAAK,CAAC,IAAd,OAlCoB,cAmCpB,8BAAQ,KAAK,CAAC,IAAd,OAnCoB,cAoCpB,8BAAQ,KAAK,CAAC,IAAd,OApCoB,cAqCpB,8BAAQ,KAAK,CAAC,IAAd,OArCoB,cAsCpB,8BAAQ,KAAK,CAAC,IAAd,OAtCoB,cAuCpB,8BAAQ,KAAK,CAAC,IAAd,OAvCoB,CAFF,CADA,CAjBF,cAgEE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACA,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAEpE,GAAhB,CAAqB,SAAS,CAAC,MAA/B,eACA,oBAAC,IAAD,CAAM,KAAN,aADA,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,EAAE,CAAC,QAFL,CAGE,QAAQ,CAAE,kBAAAsG,CAAC,QAAInE,CAAAA,OAAO,CAACmE,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAX,EAHb,CAIE,MAAM,CAAE,gBAAAoC,CAAC,QAAInE,CAAAA,OAAO,CAACmE,CAAC,CAACC,MAAF,CAASrC,KAAV,CAAX,EAJX,CAKE,YAAY,CAAEzD,KAAK,CAACwE,MAAN,CAAa6B,QAL7B,eAOD,+CAPC,cAQD,8BAAQ,KAAK,CAAErG,KAAK,CAACwE,MAAN,CAAaZ,IAA5B,CAAkC,QAAQ,KAA1C,EAA4C5D,KAAK,CAACwE,MAAN,CAAaZ,IAAzD,CARC,cASpB,8BAAQ,KAAK,CAAC,MAAd,SAToB,cAUpB,8BAAQ,KAAK,CAAC,MAAd,SAVoB,cAWpB,8BAAQ,KAAK,CAAC,MAAd,SAXoB,CAFF,CADA,CAhEF,CAzJF,cA6OE,oBAAC,IAAD,CAAM,GAAN,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACA,oBAAC,IAAD,CAAM,KAAN,EAAY,EAAE,CAAErE,GAAhB,CAAqB,SAAS,CAAC,UAA/B,eACE,oBAAC,QAAD,EACI,MAAM,CAAGM,aADb,CAEI,IAAI,CAAEG,KAAK,CAACwE,MAAN,CAAaxB,QAAb,CAAwBhD,KAAK,CAACwE,MAAN,CAAaxB,QAArC,CAA+CvC,cAFzD,CAGI,OAAO,EAAG,UAAW,GAAX,CAAgB,MAAhB,CAAwB,QAAxB,CAAkC,MAAlC,CAA0C,cAA1C,CAA0D,cAA1D,CAA0E,YAA7E,CAHX,CAII,MAAM,CAAG,gBAAA6F,MAAM,CAAI,CACf;AACD;AACF,CAPL,CAQI,QAAQ,CAAG,kBAAE3D,KAAF,CAAS2D,MAAT,CAAqB,CAC5B,GAAMC,CAAAA,IAAI,CAAGD,MAAM,CAACE,OAAP,EAAb,CACD;AACA9F,WAAW,CAAC6F,IAAD,CAAX,CACF,CAZL,CAaI,MAAM,CAAG,gBAAE5D,KAAF,CAAS2D,MAAT,CAAqB,CAC5B,GAAMC,CAAAA,IAAI,CAAGD,MAAM,CAACE,OAAP,EAAb,CACEtC,OAAO,CAACC,GAAR,CAAa,OAAb,CAAsBmC,MAAtB,EACA5F,WAAW,CAAC6F,IAAD,CAAX,CACH,CAjBL,CAkBI,OAAO,CAAG,iBAAE5D,KAAF,CAAS2D,MAAT,CAAqB,CAC3BpC,OAAO,CAACC,GAAR,CAAa,QAAb,CAAuBmC,MAAvB,EACH,CApBL,EADF,CADA,CADF,CA7OF,cAyQU,oBAAC,IAAD,CAAM,GAAN,mBACA,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,EAAuB1E,MAAM,CAACC,IAAP,CAAY7B,KAAK,CAACwE,MAAlB,EAA0BzC,MAA1B,CAAmC,CAAnC,CAAsC,oBAAtC,CAA4D,oBAAnF,CADF,CADA,CAzQV,CAFF,CADF,CAFF,CAFF,CADF,CADF,CA8RD,CAlYD,CAmYA,QAAS0E,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAE9B,MAAO,CACLR,gBAAgB,CAACpG,CAAC,CAACmG,OAAF,CAAUS,KAAK,CAACC,uBAAhB,CAAwC,IAAxC,CAA6C,KAA7C,CADZ,CAELC,UAAU,CAACF,KAAK,CAACG,YAAN,CAAmBD,UAFzB,CAGLE,YAAY,CAACJ,KAAK,CAACK,mBAHd,CAILvC,MAAM,CAACkC,KAAK,CAACM,aAJR,CAKLlF,UAAU,CAAC4E,KAAK,CAACO,iBALZ,CAAP,CAOD,CAED,QAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO,CACLhF,OAAO,CAAEhD,kBAAkB,CAAC,CAACQ,UAAU,CAAVA,UAAD,CAAD,CAAewH,QAAf,CADtB,CAAP,CAGD,CAED,cAAejI,CAAAA,OAAO,CAACuH,eAAD,CAAkBS,kBAAlB,CAAP,CAA6CnH,SAA7C,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Form, Container, Row, Col, Button} from \"react-bootstrap\";\nimport { ACTIONS } from \"redux/actions/types\";\nimport SideNav from \"components/dashboard/SideNav\";\nimport { mainAction } from \"redux/actions/index.actions\"\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nimport _ from \"lodash\"\n\nconst NewAgenda = props => {\n  const [validated, setValidated] = useState(false);\n  const [field_orchestra,setOrchestra] = useState(\"\")\n  const [field_conductor,setConductor] = useState(\"\")\n  const [field_country,setCountry] = useState(\"\")\n  const [field_synopsis,setSynopsis] = useState(\"\")\n  const [field_time,setTime] = useState(\"\")\n  const [field_location,setlocation] = useState(\"\")\n  const [field_cd,setCd] = useState(\"\")\n  const [field_city,setCity] = useState(\"\")\n  const [field_showAgenda,setShowAgenda] = useState()\n  const [field_month,setMonth] = useState(\"12\")\n  const [field_day,setDay] = useState(\"12\")\n  const [field_year,setYear] = useState(\"2020\")\n  const id = (+Object.keys(props.allAgendas)[Object.keys(props.allAgendas).length-1]+3882).toString()\n  useEffect(() => {\n    // Update the document title using the browser API\n    window.scrollTo(0,0)\n    props.actions.mainAction(ACTIONS.LOAD_ALL_PRESENTATIONS,[])\n    let agendaId = props.match.params.id.toString()\n    if(agendaId)\n    props.actions.mainAction(ACTIONS.LOAD_AGENDA,agendaId)\n    props.actions.mainAction(ACTIONS.LOAD_ALL_AGENDAS,\"2020\")\n   \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleSubmit = event => {\n    event.preventDefault();\n   \n    let agendaItem = {\n        id,\n        conductor:field_conductor,\n        orchestra:field_orchestra,\n        synopsis:field_synopsis,\n        time:field_time,\n        country:field_country,\n        location:field_location,\n        cd:field_cd,\n        city:field_city,\n        ON_OFF:field_showAgenda ? field_showAgenda.toString():document.getElementById('showpost').value.toString(),\n        month:field_month,\n        day:field_day,\n        year:field_year,\n        date:`${field_month}-${field_day}-${field_year}`\n    }\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.stopPropagation();\n    }\n    console.log(agendaItem)\n    setValidated(true);\n   props.actions.mainAction(ACTIONS.CREATE_NEW_AGENDA,agendaItem)\n   props.history.push('/dashboard/agenda/edit/'+id)\n  };\n  const handleUpdate = async event => {\n    event.preventDefault();\n    let agendaItem = {\n        id:props.agenda.id,\n        _id:props.agenda._id,\n        conductor:document.getElementById('conductor').value,\n        synopsis:field_synopsis,\n        orchestra:document.getElementById('orchestra').value,\n        time:document.getElementById('time').value,\n        location:document.getElementById('location').value,\n        country:document.getElementById('country').value,\n        cd:document.getElementById('cd').value,\n        city:document.getElementById('city').value,\n        ON_OFF:document.getElementById('showpost').value,\n        month:document.getElementById('month').value,\n        day:document.getElementById('day').value,\n        year:document.getElementById('year').value,\n        date:`${document.getElementById('month').value}-${document.getElementById('day').value}-${document.getElementById('year').value}`\n    }\n   const input = document.querySelector(\"form:first-child input\");\n   const nativeInputValueSetter = Object.getOwnPropertyDescriptor(\n      window.HTMLInputElement.prototype,\n      \"value\"\n    ).set;\n    nativeInputValueSetter.call(input, \"\");\n\n   const inputEvent = new Event(\"input\", { bubbles: true });\n    input.dispatchEvent(inputEvent);\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.stopPropagation();\n    }\n    setValidated(true);\n    props.actions.mainAction(ACTIONS.UPDATE_AGENDA,agendaItem)\n  }\n  \n  const renderMonths = () => {\n    const months= [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\n    \"August\",\"September\",\"October\",\"November\",\"December\"]\n   return months.map((month,i)=>{\n      i=i+1;\n    if(i === +props.agenda.month)\n    return <option key={i} value={i} selected>{month}</option>\n    return <option key={i} value={i}>{month}</option>\n    })\n  }\n  return (\n    <>\n      <Container className=\"dashboard\">\n  \n        <Row>\n          <Col lg={{ span: 2 }}><SideNav /></Col>\n          <Col lg={{span:\"10\" }}> \n            <section id=\"product\">\n            <Form.Row><Col lg=\"6\" style={{padding:\"0 0 30px 20px\"}}>id:{id}</Col></Form.Row>\n              <Form noValidate validated={validated} onSubmit={Object.keys(props.agenda).length > 0 ?handleUpdate :handleSubmit}>\n              <Form.Row><Col lg=\"6\"> \n                            <Form.Group as={Col} controlId=\"showpost\">\n                              <Form.Label>Show Agenda {props.agenda.ON_OFF}</Form.Label>\n                             \n                              <Form.Control\n                                as=\"select\"\n                                custom\n                                onChange={e => setShowAgenda(e.target.value)}\n                              >\n                                <option value={props.agenda.ON_OFF}>{parseInt(props.agenda.ON_OFF,10) === 1 ? \"ON\":\"OFF\"}</option>\n                                <option value=\"1\">ON</option>\n                                <option value=\"2\">OFF</option>\n                              </Form.Control>\n                              <Form.Control.Feedback type=\"invalid\">\n                        Agenda status update.\n                      </Form.Control.Feedback>\n                      <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                            </Form.Group>\n                  </Col>\n                 <Col lg=\"6\">\n                  <Form.Group as={Col}   controlId=\"conductor\">\n                  <Form.Label>Conductor</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={props.agenda.conductor}\n                      onChange={e => setConductor(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a Sub title.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                    \n                    \n                  </Form.Group></Col>\n                  </Form.Row> <Form.Row>\n                  <Col lg=\"6\"><Form.Group as={Col}  controlId=\"location\">\n                    <Form.Label>Location</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={props.agenda.location}\n                      onChange={e => setlocation(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a location.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group></Col>\n                  <Col lg=\"6\"> <Form.Group as={Col}  controlId=\"country\">\n                    <Form.Label>Country</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={props.agenda.country}\n                      onChange={e => setCountry(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a instrumentaion.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group></Col>\n                  </Form.Row>\n                <Form.Row>\n                <Col lg=\"6\"><Form.Group as={Col}  controlId=\"orchestra\">\n                     <Form.Label>Orchestra</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={props.agenda.orchestra}\n                      onChange={e => setOrchestra(e.target.value)}\n                      onBlur={e => setOrchestra(e.target.value)}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a name.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                     \n                    \n                  </Form.Group> </Col> \n                <Col lg=\"6\"><Form.Group as={Col} controlId=\"time\">\n                    <Form.Label>Time</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={props.agenda.time}\n                      onChange={e => setTime(e.target.value)}\n                      onBlur={e => setTime(e.target.value)}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a product description.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group>\n                  </Col>\n                </Form.Row>\n                <Form.Row>\n                \n                    <Col lg={12}>\n                    <Form.Group as={Col} controlId=\"city\">\n                    <Form.Label>City</Form.Label>\n                    <Form.Control\n                      required\n                      type=\"text\"\n                      placeholder=\"\"\n                      defaultValue={props.agenda.city}\n                      onChange={e => setCity(e.target.value)}\n                      \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a cd.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group>\n                    </Col>\n                </Form.Row>\n                <Form.Row>\n                <Col lg=\"12\">\n                <Form.Group as={Col} controlId=\"cd\">\n                    <Form.Label>CD</Form.Label>\n\n                    <Form.Control\n                      required\n                      as=\"select\"\n                      onChange={e => setCd(e.target.value)}\n                      onBlur={e => setCd(e.target.value)}\n                      defaultValue={props.agenda.cd}\n                    >\n              {Object.values(_.orderBy(props.allPresentations,\"cdName\",\"asc\")).map(CD=>{\n              if(CD.id === props.agenda.cd)\n              return <option key={CD.id} value={CD.id} selected>{CD.cdName}</option>\n              return <option key={CD.id} value={CD.id} >{CD.cdName}</option>\n              })}\n                        \n                    </Form.Control>\n                    <Form.Control.Feedback type=\"invalid\">\n                        Please provide a CD.\n                      </Form.Control.Feedback>\n                    <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                  </Form.Group></Col>\n                <Col lg=\"6\">\n                </Col>\n\n                </Form.Row>\n                <Form.Row>\n                  <Col lg={4}>\n                  <Form.Group as={Col} controlId=\"month\">\n                  <Form.Label>Month</Form.Label>\n                    <Form.Control\n                      required\n                      as=\"select\"\n                      onChange={e => setMonth(e.target.value)}\n                      onBlur={e => setMonth(e.target.value)}\n                      value={props.agenda.category}\n                    >\n                    <option value=''>--Select Month--</option>\n                    {renderMonths()}\n                    </Form.Control>\n                   \n                  </Form.Group>\n                  </Col>\n                  <Col lg={4}>\n                  <Form.Group as={Col} controlId=\"day\">\n                  <Form.Label>Day</Form.Label>\n                    <Form.Control\n                      required\n                      as=\"select\"\n                      onChange={e => setDay(e.target.value)}\n                      onBlur={e => setDay(e.target.value)}\n                      defaultValue={props.agenda.category}\n                    >\n                   <option>-- Day --</option>\n                  <option value={props.agenda.day} selected>{props.agenda.day}</option>\n<option value=\"1\">1</option>\n<option value=\"2\">2</option>\n<option value=\"3\">3</option>\n<option value=\"4\">4</option>\n<option value=\"5\">5</option>\n<option value=\"6\">6</option>\n<option value=\"7\">7</option>\n<option value=\"8\">8</option>\n<option value=\"9\">9</option>\n<option value=\"10\">10</option>\n<option value=\"11\">11</option>\n<option value=\"12\">12</option>\n<option value=\"13\">13</option>\n<option value=\"14\">14</option>\n<option value=\"15\">15</option>\n<option value=\"16\">16</option>\n<option value=\"17\">17</option>\n<option value=\"18\">18</option>\n<option value=\"19\">19</option>\n<option value=\"20\">20</option>\n<option value=\"21\">21</option>\n<option value=\"22\">22</option>\n<option value=\"23\">23</option>\n<option value=\"24\">24</option>\n<option value=\"25\">25</option>\n<option value=\"26\">26</option>\n<option value=\"27\">27</option>\n<option value=\"28\">28</option>\n<option value=\"29\">29</option>\n<option value=\"30\">30</option>\n<option value=\"31\">31</option>\n                    </Form.Control>\n                   \n                  </Form.Group>\n                  </Col>\n                  <Col lg={4}>\n                  <Form.Group as={Col} controlId=\"year\">\n                  <Form.Label>Year</Form.Label>\n                    <Form.Control\n                      required\n                      as=\"select\"\n                      onChange={e => setYear(e.target.value)}\n                      onBlur={e => setYear(e.target.value)}\n                      defaultValue={props.agenda.category}\n                    >\n                   <option>-- Year --</option>\n                   <option value={props.agenda.year} selected>{props.agenda.year}</option>\n<option value=\"2020\">2020</option>\n<option value=\"2021\">2021</option>\n<option value=\"2022\">2022</option>\n                    </Form.Control>\n                   \n                  </Form.Group>\n                  </Col>\n                </Form.Row>\n                <Form.Row>\n                  <Col lg={12}>\n                  <Form.Group as={Col} controlId=\"synopsis\">\n                    <CKEditor\n                        editor={ ClassicEditor }\n                        data={props.agenda.synopsis ? props.agenda.synopsis: field_synopsis}\n                        toolbar= {'heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', 'blockQuote' }\n                        onInit={ editor => {\n                            // You can store the \"editor\" and use when it is needed.\n                           // console.log( 'Editor is ready to use!', editor );\n                        } }\n                        onChange={ ( event, editor ) => {\n                            const data = editor.getData();\n                           // console.log( { event, editor, data } );\n                           setSynopsis(data)\n                        } }\n                        onBlur={ ( event, editor ) => {\n                          const data = editor.getData();\n                            console.log( 'Blur.', editor );\n                            setSynopsis(data)\n                        } }\n                        onFocus={ ( event, editor ) => {\n                            console.log( 'Focus.', editor );\n                        } }\n                    />\n                  </Form.Group>\n                  </Col>\n                  </Form.Row>\n                        <Form.Row>\n                        <Col lg={12}>\n                          <Button type=\"submit\">{Object.keys(props.agenda).length > 0 ?\"Update Publication\" :\"Create Publication\"}</Button>\n                          </Col>\n                        </Form.Row>\n              </Form> \n            </section>\n          </Col>\n        </Row> \n      </Container>\n    </>\n  );\n};\nfunction mapStateToProps(state) {\n    \n  return {\n    allPresentations:_.orderBy(state.AllPresentationsReducer,\"id\",\"asc\"),\n    categories:state.musicReducer.categories,\n    presentation:state.presentationReducer,\n    agenda:state.agendaReducer,\n    allAgendas:state.AllAgendasReducer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({mainAction}, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewAgenda);\n"]},"metadata":{},"sourceType":"module"}