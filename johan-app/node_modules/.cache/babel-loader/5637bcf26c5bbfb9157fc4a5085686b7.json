{"ast":null,"code":"import _slicedToArray from\"/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{mainAction}from'redux/actions/index.actions';import{ACTIONS}from\"redux/actions/types\";import List from\"components/shared/List\";import Loading from\"components/shared/Loading\";import{Dropdown,DropdownButton}from\"react-bootstrap\";var AgendaList=function AgendaList(props){var d=new Date();var year=d.getFullYear().toString();var _useState=useState(year),_useState2=_slicedToArray(_useState,2),listYear=_useState2[0],setListYear=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selYear=_useState4[0],setSelYear=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),activeLink=_useState6[0],setActiveLink=_useState6[1];useEffect(function(){window.scrollTo(0,0);document.title=\"JohanDeMeij.com | Agenda\";props.actions.mainAction(ACTIONS.LOAD_MUSIC,{});props.actions.mainAction(ACTIONS.LOAD_AGENDAS,{limit:100,skip:0,year:listYear});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var loadYear=function loadYear(selectedYear){props.actions.mainAction(ACTIONS.LOAD_AGENDAS_FILTERED,{limit:100,skip:0,year:selectedYear});setSelYear(selectedYear);};var list=function list(){return Object.values(props.agendas).map(function(agenda){var title=props.CDS.filter(function(CD){return CD.id===agenda.cd;}).map(function(CD){return CD.cdName;}),title1=props.CDS.filter(function(CD){return CD.id===agenda.cd1;}).map(function(CD){return CD.cdName;}),title2=props.CDS.filter(function(CD){return CD.id===agenda.cd2;}).map(function(CD){return CD.cdName;}),title3=props.CDS.filter(function(CD){return CD.id===agenda.cd3;}).map(function(CD){return CD.cdName;});agenda.title=title[0];agenda.title1=title1[0];agenda.title2=title2[0];agenda.title3=title3[0];return+agenda.ON_OFF===1?/*#__PURE__*/React.createElement(List,Object.assign({key:agenda.id},agenda)):\"\";});};var RenderDropdown=function RenderDropdown(){var years=[];var DropDownList=function DropDownList(){var beginYear=2011;for(var i=beginYear;i<=+year;i++){years.push(i);}return years.map(function(archiveYear){return/*#__PURE__*/React.createElement(Dropdown.Item,{as:\"button\",onClick:function onClick(){loadYear(archiveYear);}},archiveYear);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(DropdownButton,{id:\"dropdown-item-button\",title:\"Archive\",variant:\"outline-secondary\"},/*#__PURE__*/React.createElement(DropDownList,null)));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"section\",{className:\"agenda-full\"},/*#__PURE__*/React.createElement(\"h3\",{style:{textAlign:'center',fontSize:\"2rem\",textTransform:\"uppercase\",color:\"#FFF\"}},\"Agenda\"),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"archive\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"archive-link \"+activeLink,onClick:function onClick(){window.location.reload();}},\"Current\"),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(RenderDropdown,null),\" \"),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{style:{display:\"inline-block\"}},selYear)))),list())));};function mapStateToProps(state){return{agendas:state.agendaReducer,CDS:state.musicReducer.allPresentations};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(AgendaList);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/src/components/AgendaList.jsx"],"names":["React","useEffect","useState","connect","bindActionCreators","mainAction","ACTIONS","List","Loading","Dropdown","DropdownButton","AgendaList","props","d","Date","year","getFullYear","toString","listYear","setListYear","selYear","setSelYear","activeLink","setActiveLink","window","scrollTo","document","title","actions","LOAD_MUSIC","LOAD_AGENDAS","limit","skip","loadYear","selectedYear","LOAD_AGENDAS_FILTERED","list","Object","values","agendas","map","agenda","CDS","filter","CD","id","cd","cdName","title1","cd1","title2","cd2","title3","cd3","ON_OFF","RenderDropdown","years","DropDownList","beginYear","i","push","archiveYear","textAlign","fontSize","textTransform","color","location","reload","display","mapStateToProps","state","agendaReducer","musicReducer","allPresentations","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { mainAction } from 'redux/actions/index.actions'\nimport { ACTIONS } from \"redux/actions/types\"\nimport List from \"components/shared/List\"\nimport Loading from \"components/shared/Loading\"\nimport { Dropdown, DropdownButton } from \"react-bootstrap\"\nconst AgendaList = (props) => {\n  let d = new Date();\n  let year = d.getFullYear().toString();\n  const [listYear, setListYear] = useState(year)\n  const [selYear,setSelYear ]=useState()\n  const [activeLink, setActiveLink] = useState(\"\")\n  useEffect(() => {\n    window.scrollTo(0, 0)\n    document.title = \"JohanDeMeij.com | Agenda\"\n    props.actions.mainAction(ACTIONS.LOAD_MUSIC, {})\n    props.actions.mainAction(ACTIONS.LOAD_AGENDAS, { limit: 100, skip: 0, year: listYear })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n  const loadYear = (selectedYear) => {\n    props.actions.mainAction(ACTIONS.LOAD_AGENDAS_FILTERED, { limit: 100, skip: 0, year: selectedYear })\n    setSelYear(selectedYear)\n  }\n\n  const list = () => {\n    return Object.values(props.agendas).map(agenda => {\n      let title = props.CDS.filter(CD => CD.id === agenda.cd).map(CD => CD.cdName),\n        title1 = props.CDS.filter(CD => CD.id === agenda.cd1).map(CD => CD.cdName),\n        title2 = props.CDS.filter(CD => CD.id === agenda.cd2).map(CD => CD.cdName),\n        title3 = props.CDS.filter(CD => CD.id === agenda.cd3).map(CD => CD.cdName)\n\n      agenda.title = title[0]\n      agenda.title1 = title1[0]\n      agenda.title2 = title2[0]\n      agenda.title3 = title3[0]\n      return +agenda.ON_OFF === 1 ? <List key={agenda.id} {...agenda} /> : \"\"\n    })\n  }\n  const RenderDropdown = () => {\n    const years = []\n    const DropDownList = () => {\n      let beginYear = 2011\n      for (let i = beginYear; i <= +year; i++) {\n        years.push(i)\n      }\n      return years.map(archiveYear => {\n        return <Dropdown.Item as=\"button\" onClick={() => { loadYear(archiveYear) }}>{archiveYear}</Dropdown.Item>\n      })\n    }\n    return (<>\n      <DropdownButton id=\"dropdown-item-button\" title=\"Archive\" variant=\"outline-secondary\">\n        <DropDownList />\n      </DropdownButton>\n    </>)\n  }\n\n  return (<>\n    <section className=\"agenda-full\">\n      <h3 style={{ textAlign: 'center', fontSize: \"2rem\", textTransform: \"uppercase\", color: \"#FFF\" }}>Agenda</h3>\n      <div className=\"container\">\n        <div className=\"archive\">\n          <ul>\n            <li className={\"archive-link \" + activeLink} onClick={() => { window.location.reload() }}>Current</li>\n            <li><RenderDropdown /> </li>\n            <li><div style={{display:\"inline-block\"}}>{selYear}</div></li>\n          </ul>\n        </div>\n        {list()}\n\n      </div>\n    </section>\n  </>)\n}\nfunction mapStateToProps(state) {\n  return {\n    agendas: state.agendaReducer,\n    CDS: state.musicReducer.allPresentations\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        mainAction\n      },\n      dispatch\n    )\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AgendaList);\n"]},"metadata":{},"sourceType":"module"}