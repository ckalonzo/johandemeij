{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport \"../scss/app.css\";\nimport React from \"react\";\nimport Icon from \"../icons/PlayerIcons\";\nimport formatTime from \"../helpers/playerHelper\";\nimport { Howl } from \"howler\";\n\nvar Player = /*#__PURE__*/function (_React$Component) {\n  _inherits(Player, _React$Component);\n\n  function Player(props) {\n    var _this;\n\n    _classCallCheck(this, Player);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Player).call(this, props));\n\n    _this.componentWillMount = function () {\n      _this.calculateOffset();\n\n      if (!_this.props.activeTrack) {\n        return;\n      }\n\n      _this.play();\n    };\n\n    _this.setProgressIndicator = function (val) {\n      return _this.progressRef.current && (_this.progressRef.current.querySelector(\".progress\").style.marginLeft = \"\".concat(val, \"px\"));\n    };\n\n    _this.changeVolume = function (evt) {\n      if (!_this.sound) {\n        return;\n      }\n\n      evt.preventDefault();\n      var volumeControl = document.querySelector('[data-action=\"volume\"]');\n\n      if (volumeControl) {\n        _this.sound.volume(volumeControl.value);\n\n        _this.setState({\n          volumeLevel: volumeControl.value\n        });\n      }\n    };\n\n    _this.muteSound = function (evt) {\n      if (!_this.sound) {\n        return;\n      }\n\n      evt.preventDefault();\n      _this.isMuted = !_this.isMuted;\n\n      _this.sound.mute(_this.isMuted);\n\n      var volumeControl = document.querySelector('[data-action=\"volume\"]');\n\n      if (volumeControl) {\n        _this.setState({\n          volumeLevel: _this.isMuted ? 0 : volumeControl.value\n        });\n      }\n    };\n\n    _this.state = _this.defaultState();\n    _this.progressRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(Player, [{\n    key: \"calculateOffset\",\n    value: function calculateOffset() {\n      this.wrapOffsetStyles = {\n        left: \"0\",\n        right: \"0\"\n      };\n      this.wrapOffsetStyles = Object.assign({}, this.wrapOffsetStyles, this.props.opts && this.props.opts.offset);\n      this.wrapOffsetStyles.left = \"\".concat(this.wrapOffsetStyles.left, \"px\");\n      this.wrapOffsetStyles.right = \"\".concat(this.wrapOffsetStyles.right, \"px\");\n    }\n  }, {\n    key: \"defaultState\",\n    value: function defaultState() {\n      return {\n        isPlaying: false,\n        track: false,\n        trackDuration: 0,\n        currentTime: 0,\n        isHidden: false,\n        volumeLevel: 1,\n        currentIndex: 1,\n        closed: false,\n        loading: false\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (!this.sound) {\n        return;\n      }\n\n      this.stopPlayLoop();\n      this.sound.pause();\n      this.sound = null;\n      window.audio.active = null;\n      this.setProgressIndicator(0);\n      this.setState(this.defaultState());\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props.activeTrack.src !== nextProps.activeTrack.src) {\n        if (window.audio && window.audio.active) {\n          window.audio.active.pause();\n        }\n\n        this.reset();\n        this.sound && this.sound.stop();\n        this.sound && this.sound.unload();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.activeTrack.src !== this.props.activeTrack.src) {\n        this.play();\n      }\n\n      this.calculateOffset();\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this2 = this;\n\n      if (this.sound && this.state.isPaused) {\n        this.sound.play();\n        this.setState({\n          isPaused: false,\n          isPlaying: true\n        });\n        return;\n      }\n\n      this.sound = new Howl({\n        src: [this.props.activeTrack.src],\n        html5: true\n      });\n      window.audio = {\n        active: this.sound\n      };\n      this.setState({\n        loading: true\n      });\n      this.sound.once(\"load\", function () {\n        _this2.setState({\n          loading: false\n        });\n\n        _this2.sound.on(\"end\", function (evt) {\n          _this2.stopPlayLoop();\n\n          _this2.setProgressIndicator(_this2.progressRef.current.clientWidth);\n\n          _this2.setState({\n            currentTime: _this2.state.trackDuration,\n            isPlaying: false,\n            isPaused: true\n          });\n        });\n\n        _this2.sound.on(\"play\", function (evt) {\n          _this2.setState({\n            trackDuration: _this2.sound._duration,\n            isPlaying: true,\n            isPaused: false\n          }, function () {\n            return _this2.playLoop();\n          });\n        });\n\n        _this2.sound.play();\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.sound.pause();\n      this.stopPlayLoop();\n      this.setState({\n        isPlaying: false,\n        isPaused: true\n      });\n    }\n  }, {\n    key: \"stopPlayLoop\",\n    value: function stopPlayLoop() {\n      clearInterval(this.loop);\n      this.loop = 0;\n    }\n  }, {\n    key: \"closePlayer\",\n    value: function closePlayer() {\n      var _this3 = this;\n\n      this.sound && this.sound.stop();\n      this.setState({\n        closed: true\n      }, function () {\n        _this3.props.onClose instanceof Function && _this3.props.onClose();\n      });\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause() {\n      var _this4 = this;\n\n      if (this.state.loading) {\n        return React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-play\"\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-loading-container\"\n        }, React.createElement(\"div\", {\n          className: \"item-1\"\n        }), React.createElement(\"div\", {\n          className: \"item-2\"\n        }), React.createElement(\"div\", {\n          className: \"item-3\"\n        }), React.createElement(\"div\", {\n          className: \"item-4\"\n        }), React.createElement(\"div\", {\n          className: \"item-5\"\n        })));\n      } else {\n        if (!this.state.isPlaying) {\n          return React.createElement(\"button\", {\n            className: \"mp3-player-tape-controls-play\",\n            onClick: function onClick() {\n              return _this4.play();\n            }\n          }, React.createElement(\"span\", {\n            className: \"mp3-player-play-button\"\n          }, React.createElement(Icon, {\n            iconName: \"play\"\n          })));\n        }\n\n        return React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-play\",\n          onClick: function onClick() {\n            return _this4.pause();\n          }\n        }, React.createElement(Icon, {\n          iconName: \"pause\"\n        }));\n      }\n    }\n  }, {\n    key: \"playLoop\",\n    value: function playLoop() {\n      var _this5 = this;\n\n      if (!this.state.closed) {\n        this.loop = setInterval(function () {\n          _this5.progressWidth = _this5.progressRef.current && _this5.progressRef.current.clientWidth ? _this5.progressRef.current.clientWidth : _this5.progressWidth;\n          var progressIndicator = ~~_this5.sound.seek() / _this5.state.trackDuration * _this5.progressWidth;\n\n          _this5.setState({\n            currentTime: _this5.sound.seek(),\n            progressIndicator: progressIndicator\n          }, function () {\n            return _this5.setProgressIndicator(progressIndicator);\n          });\n        }, 500);\n      }\n    }\n  }, {\n    key: \"progressClicked\",\n    value: function progressClicked(evt) {\n      var _this6 = this;\n\n      if (!this.sound) {\n        return;\n      }\n\n      ;\n      this.pause();\n      this.movementX = (evt.pageX || evt.clientX) - evt.currentTarget.getBoundingClientRect().left;\n      this.setState({\n        currentTime: this.movementX / this.progressRef.current.clientWidth * this.state.trackDuration,\n        progressIndicator: this.movementX\n      }, function () {\n        _this6.setProgressIndicator(_this6.state.progressIndicator);\n\n        _this6.sound.seek(_this6.state.currentTime);\n\n        _this6.play();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var trackDuration = formatTime(this.state.trackDuration);\n      var currentTime = formatTime(this.state.currentTime);\n      var hideMp3 = this.state.isHidden ? \"mp3-player-hidden\" : \"\";\n      var isMobile = this.props.isMobile ? \"is-mobile\" : \"\";\n      var closed = this.state.closed;\n\n      if (closed) {\n        return null;\n      } else {\n        return React.createElement(\"div\", {\n          className: \"mp3-player-container \".concat(hideMp3, \" \").concat(isMobile),\n          style: this.wrapOffsetStyles\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-current-track\"\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-current-img\",\n          style: {\n            backgroundImage: \"url( \".concat(this.props.activeTrack.img ? this.props.activeTrack.img : \"https://icon-library.net/images/music-icon-transparent/music-icon-transparent-11.jpg\", \" )\")\n          }\n        }), React.createElement(\"div\", {\n          className: \"mp3-player-current-title\"\n        }, React.createElement(\"p\", {\n          className: \"mp3-player-current-name\"\n        }, this.props.activeTrack.name), React.createElement(\"p\", {\n          className: \"mp3-player-current-copy\"\n        }, this.props.activeTrack.desc))), React.createElement(\"div\", {\n          className: \"mp3-player-track-container\"\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-control-buttons\"\n        }, this.props.hasPlaylist && React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-backward\",\n          onClick: function onClick(evt) {\n            return _this7.props.skipHandler(evt, \"prev\");\n          }\n        }, React.createElement(Icon, {\n          iconName: \"backward\"\n        })), this.playPause(), this.props.hasPlaylist && React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-forward\",\n          onClick: function onClick(evt) {\n            return _this7.props.skipHandler(evt, \"next\");\n          }\n        }, React.createElement(Icon, {\n          iconName: \"forward\"\n        }))), React.createElement(\"div\", {\n          className: \"mp3-player-control-track\"\n        }, React.createElement(\"span\", {\n          className: \"mp3-player-track-elapsed\"\n        }, currentTime), React.createElement(\"div\", {\n          ref: this.progressRef,\n          className: \"progress-bar-wrap\",\n          onClick: function onClick(evt) {\n            return _this7.progressClicked(evt);\n          }\n        }, React.createElement(\"div\", {\n          className: \"progress\"\n        })), React.createElement(\"span\", {\n          className: \"mp3-player-track-remaining\"\n        }, trackDuration))), React.createElement(\"div\", {\n          className: \"mp3-player-volume-container\"\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-menu-buttons\"\n        }, this.props.hasPlaylist && React.createElement(\"button\", {\n          className: \"mp3-player-playlist-control\",\n          onClick: this.props.playlistClickHandler\n        }, React.createElement(Icon, {\n          iconName: \"playlist\",\n          fill: \"white\"\n        })), React.createElement(\"button\", {\n          className: \"mp3-player-hide-control\",\n          onClick: function onClick() {\n            _this7.setState({\n              isHidden: _this7.state.isHidden ? false : true\n            }, function () {\n              return _this7.props.togglePlaylist(_this7.state.isHidden);\n            });\n          }\n        }, React.createElement(Icon, {\n          iconName: \"hide\",\n          fill: \"white\"\n        })), React.createElement(\"button\", {\n          className: \"mp3-player-close-control\",\n          onClick: function onClick() {\n            _this7.closePlayer();\n          }\n        }, React.createElement(Icon, {\n          iconName: \"close\",\n          fill: \"white\"\n        }))), React.createElement(\"div\", {\n          className: \"mp3-player-volume-slider\"\n        }, React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-mute\",\n          onClick: function onClick(evt) {\n            return _this7.muteSound(evt);\n          }\n        }, React.createElement(Icon, {\n          iconName: !this.state.volumeLevel ? \"mute\" : \"volume\"\n        })), React.createElement(\"input\", {\n          type: \"range\",\n          id: \"volume\",\n          className: \"mp3-player-volume-input\",\n          min: \"0\",\n          max: \"2\",\n          list: \"gain-vals\",\n          step: \"0.01\",\n          \"data-action\": \"volume\",\n          onInput: function onInput(evt) {\n            return _this7.changeVolume(evt);\n          }\n        }))));\n      }\n    }\n  }]);\n\n  return Player;\n}(React.Component); // module.exports = Player;\n\n\nexport { Player as default };","map":{"version":3,"sources":["/Users/carlkalonzo/Documents/DEV/johandemeij/johan-app/node_modules/react-mp3-player/dist/components/Player.js"],"names":["_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","React","Icon","formatTime","Howl","Player","_React$Component","props","_this","call","componentWillMount","calculateOffset","activeTrack","play","setProgressIndicator","val","progressRef","current","querySelector","style","marginLeft","concat","changeVolume","evt","sound","preventDefault","volumeControl","document","volume","value","setState","volumeLevel","muteSound","isMuted","mute","state","defaultState","createRef","key","wrapOffsetStyles","left","right","Object","assign","opts","offset","isPlaying","track","trackDuration","currentTime","isHidden","currentIndex","closed","loading","reset","stopPlayLoop","pause","window","audio","active","shouldComponentUpdate","nextProps","src","stop","unload","componentDidUpdate","prevProps","_this2","isPaused","html5","once","on","clientWidth","_duration","playLoop","clearInterval","loop","closePlayer","_this3","onClose","Function","playPause","_this4","createElement","className","onClick","iconName","_this5","setInterval","progressWidth","progressIndicator","seek","progressClicked","_this6","movementX","pageX","clientX","currentTarget","getBoundingClientRect","render","_this7","hideMp3","isMobile","backgroundImage","img","name","desc","hasPlaylist","skipHandler","ref","playlistClickHandler","fill","togglePlaylist","type","id","min","max","list","step","onInput","Component","default"],"mappings":"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","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport \"../scss/app.css\";\nimport React from \"react\";\nimport Icon from \"../icons/PlayerIcons\";\nimport formatTime from \"../helpers/playerHelper\";\nimport { Howl } from \"howler\";\n\nvar Player =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Player, _React$Component);\n\n  function Player(props) {\n    var _this;\n\n    _classCallCheck(this, Player);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Player).call(this, props));\n\n    _this.componentWillMount = function () {\n      _this.calculateOffset();\n\n      if (!_this.props.activeTrack) {\n        return;\n      }\n\n      _this.play();\n    };\n\n    _this.setProgressIndicator = function (val) {\n      return _this.progressRef.current && (_this.progressRef.current.querySelector(\".progress\").style.marginLeft = \"\".concat(val, \"px\"));\n    };\n\n    _this.changeVolume = function (evt) {\n      if (!_this.sound) {\n        return;\n      }\n\n      evt.preventDefault();\n      var volumeControl = document.querySelector('[data-action=\"volume\"]');\n\n      if (volumeControl) {\n        _this.sound.volume(volumeControl.value);\n\n        _this.setState({\n          volumeLevel: volumeControl.value\n        });\n      }\n    };\n\n    _this.muteSound = function (evt) {\n      if (!_this.sound) {\n        return;\n      }\n\n      evt.preventDefault();\n      _this.isMuted = !_this.isMuted;\n\n      _this.sound.mute(_this.isMuted);\n\n      var volumeControl = document.querySelector('[data-action=\"volume\"]');\n\n      if (volumeControl) {\n        _this.setState({\n          volumeLevel: _this.isMuted ? 0 : volumeControl.value\n        });\n      }\n    };\n\n    _this.state = _this.defaultState();\n    _this.progressRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(Player, [{\n    key: \"calculateOffset\",\n    value: function calculateOffset() {\n      this.wrapOffsetStyles = {\n        left: \"0\",\n        right: \"0\"\n      };\n      this.wrapOffsetStyles = Object.assign({}, this.wrapOffsetStyles, this.props.opts && this.props.opts.offset);\n      this.wrapOffsetStyles.left = \"\".concat(this.wrapOffsetStyles.left, \"px\");\n      this.wrapOffsetStyles.right = \"\".concat(this.wrapOffsetStyles.right, \"px\");\n    }\n  }, {\n    key: \"defaultState\",\n    value: function defaultState() {\n      return {\n        isPlaying: false,\n        track: false,\n        trackDuration: 0,\n        currentTime: 0,\n        isHidden: false,\n        volumeLevel: 1,\n        currentIndex: 1,\n        closed: false,\n        loading: false\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (!this.sound) {\n        return;\n      }\n\n      this.stopPlayLoop();\n      this.sound.pause();\n      this.sound = null;\n      window.audio.active = null;\n      this.setProgressIndicator(0);\n      this.setState(this.defaultState());\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props.activeTrack.src !== nextProps.activeTrack.src) {\n        if (window.audio && window.audio.active) {\n          window.audio.active.pause();\n        }\n\n        this.reset();\n        this.sound && this.sound.stop();\n        this.sound && this.sound.unload();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.activeTrack.src !== this.props.activeTrack.src) {\n        this.play();\n      }\n\n      this.calculateOffset();\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this2 = this;\n\n      if (this.sound && this.state.isPaused) {\n        this.sound.play();\n        this.setState({\n          isPaused: false,\n          isPlaying: true\n        });\n        return;\n      }\n\n      this.sound = new Howl({\n        src: [this.props.activeTrack.src],\n        html5: true\n      });\n      window.audio = {\n        active: this.sound\n      };\n      this.setState({\n        loading: true\n      });\n      this.sound.once(\"load\", function () {\n        _this2.setState({\n          loading: false\n        });\n\n        _this2.sound.on(\"end\", function (evt) {\n          _this2.stopPlayLoop();\n\n          _this2.setProgressIndicator(_this2.progressRef.current.clientWidth);\n\n          _this2.setState({\n            currentTime: _this2.state.trackDuration,\n            isPlaying: false,\n            isPaused: true\n          });\n        });\n\n        _this2.sound.on(\"play\", function (evt) {\n          _this2.setState({\n            trackDuration: _this2.sound._duration,\n            isPlaying: true,\n            isPaused: false\n          }, function () {\n            return _this2.playLoop();\n          });\n        });\n\n        _this2.sound.play();\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.sound.pause();\n      this.stopPlayLoop();\n      this.setState({\n        isPlaying: false,\n        isPaused: true\n      });\n    }\n  }, {\n    key: \"stopPlayLoop\",\n    value: function stopPlayLoop() {\n      clearInterval(this.loop);\n      this.loop = 0;\n    }\n  }, {\n    key: \"closePlayer\",\n    value: function closePlayer() {\n      var _this3 = this;\n\n      this.sound && this.sound.stop();\n      this.setState({\n        closed: true\n      }, function () {\n        _this3.props.onClose instanceof Function && _this3.props.onClose();\n      });\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause() {\n      var _this4 = this;\n\n      if (this.state.loading) {\n        return React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-play\"\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-loading-container\"\n        }, React.createElement(\"div\", {\n          className: \"item-1\"\n        }), React.createElement(\"div\", {\n          className: \"item-2\"\n        }), React.createElement(\"div\", {\n          className: \"item-3\"\n        }), React.createElement(\"div\", {\n          className: \"item-4\"\n        }), React.createElement(\"div\", {\n          className: \"item-5\"\n        })));\n      } else {\n        if (!this.state.isPlaying) {\n          return React.createElement(\"button\", {\n            className: \"mp3-player-tape-controls-play\",\n            onClick: function onClick() {\n              return _this4.play();\n            }\n          }, React.createElement(\"span\", {\n            className: \"mp3-player-play-button\"\n          }, React.createElement(Icon, {\n            iconName: \"play\"\n          })));\n        }\n\n        return React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-play\",\n          onClick: function onClick() {\n            return _this4.pause();\n          }\n        }, React.createElement(Icon, {\n          iconName: \"pause\"\n        }));\n      }\n    }\n  }, {\n    key: \"playLoop\",\n    value: function playLoop() {\n      var _this5 = this;\n\n      if (!this.state.closed) {\n        this.loop = setInterval(function () {\n          _this5.progressWidth = _this5.progressRef.current && _this5.progressRef.current.clientWidth ? _this5.progressRef.current.clientWidth : _this5.progressWidth;\n          var progressIndicator = ~~_this5.sound.seek() / _this5.state.trackDuration * _this5.progressWidth;\n\n          _this5.setState({\n            currentTime: _this5.sound.seek(),\n            progressIndicator: progressIndicator\n          }, function () {\n            return _this5.setProgressIndicator(progressIndicator);\n          });\n        }, 500);\n      }\n    }\n  }, {\n    key: \"progressClicked\",\n    value: function progressClicked(evt) {\n      var _this6 = this;\n\n      if (!this.sound) {\n        return;\n      }\n\n      ;\n      this.pause();\n      this.movementX = (evt.pageX || evt.clientX) - evt.currentTarget.getBoundingClientRect().left;\n      this.setState({\n        currentTime: this.movementX / this.progressRef.current.clientWidth * this.state.trackDuration,\n        progressIndicator: this.movementX\n      }, function () {\n        _this6.setProgressIndicator(_this6.state.progressIndicator);\n\n        _this6.sound.seek(_this6.state.currentTime);\n\n        _this6.play();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var trackDuration = formatTime(this.state.trackDuration);\n      var currentTime = formatTime(this.state.currentTime);\n      var hideMp3 = this.state.isHidden ? \"mp3-player-hidden\" : \"\";\n      var isMobile = this.props.isMobile ? \"is-mobile\" : \"\";\n      var closed = this.state.closed;\n\n      if (closed) {\n        return null;\n      } else {\n        return React.createElement(\"div\", {\n          className: \"mp3-player-container \".concat(hideMp3, \" \").concat(isMobile),\n          style: this.wrapOffsetStyles\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-current-track\"\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-current-img\",\n          style: {\n            backgroundImage: \"url( \".concat(this.props.activeTrack.img ? this.props.activeTrack.img : \"https://icon-library.net/images/music-icon-transparent/music-icon-transparent-11.jpg\", \" )\")\n          }\n        }), React.createElement(\"div\", {\n          className: \"mp3-player-current-title\"\n        }, React.createElement(\"p\", {\n          className: \"mp3-player-current-name\"\n        }, this.props.activeTrack.name), React.createElement(\"p\", {\n          className: \"mp3-player-current-copy\"\n        }, this.props.activeTrack.desc))), React.createElement(\"div\", {\n          className: \"mp3-player-track-container\"\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-control-buttons\"\n        }, this.props.hasPlaylist && React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-backward\",\n          onClick: function onClick(evt) {\n            return _this7.props.skipHandler(evt, \"prev\");\n          }\n        }, React.createElement(Icon, {\n          iconName: \"backward\"\n        })), this.playPause(), this.props.hasPlaylist && React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-forward\",\n          onClick: function onClick(evt) {\n            return _this7.props.skipHandler(evt, \"next\");\n          }\n        }, React.createElement(Icon, {\n          iconName: \"forward\"\n        }))), React.createElement(\"div\", {\n          className: \"mp3-player-control-track\"\n        }, React.createElement(\"span\", {\n          className: \"mp3-player-track-elapsed\"\n        }, currentTime), React.createElement(\"div\", {\n          ref: this.progressRef,\n          className: \"progress-bar-wrap\",\n          onClick: function onClick(evt) {\n            return _this7.progressClicked(evt);\n          }\n        }, React.createElement(\"div\", {\n          className: \"progress\"\n        })), React.createElement(\"span\", {\n          className: \"mp3-player-track-remaining\"\n        }, trackDuration))), React.createElement(\"div\", {\n          className: \"mp3-player-volume-container\"\n        }, React.createElement(\"div\", {\n          className: \"mp3-player-menu-buttons\"\n        }, this.props.hasPlaylist && React.createElement(\"button\", {\n          className: \"mp3-player-playlist-control\",\n          onClick: this.props.playlistClickHandler\n        }, React.createElement(Icon, {\n          iconName: \"playlist\",\n          fill: \"white\"\n        })), React.createElement(\"button\", {\n          className: \"mp3-player-hide-control\",\n          onClick: function onClick() {\n            _this7.setState({\n              isHidden: _this7.state.isHidden ? false : true\n            }, function () {\n              return _this7.props.togglePlaylist(_this7.state.isHidden);\n            });\n          }\n        }, React.createElement(Icon, {\n          iconName: \"hide\",\n          fill: \"white\"\n        })), React.createElement(\"button\", {\n          className: \"mp3-player-close-control\",\n          onClick: function onClick() {\n            _this7.closePlayer();\n          }\n        }, React.createElement(Icon, {\n          iconName: \"close\",\n          fill: \"white\"\n        }))), React.createElement(\"div\", {\n          className: \"mp3-player-volume-slider\"\n        }, React.createElement(\"button\", {\n          className: \"mp3-player-tape-controls-mute\",\n          onClick: function onClick(evt) {\n            return _this7.muteSound(evt);\n          }\n        }, React.createElement(Icon, {\n          iconName: !this.state.volumeLevel ? \"mute\" : \"volume\"\n        })), React.createElement(\"input\", {\n          type: \"range\",\n          id: \"volume\",\n          className: \"mp3-player-volume-input\",\n          min: \"0\",\n          max: \"2\",\n          list: \"gain-vals\",\n          step: \"0.01\",\n          \"data-action\": \"volume\",\n          onInput: function onInput(evt) {\n            return _this7.changeVolume(evt);\n          }\n        }))));\n      }\n    }\n  }]);\n\n  return Player;\n}(React.Component); // module.exports = Player;\n\n\nexport { Player as default };"]},"metadata":{},"sourceType":"module"}