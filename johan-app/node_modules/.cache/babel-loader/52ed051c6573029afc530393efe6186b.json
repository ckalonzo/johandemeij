{"ast":null,"code":"import React,{useEffect}from\"react\";import{Col}from\"react-bootstrap\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{ACTIONS}from\"redux/actions/types\";import{mainAction}from\"redux/actions/index.actions\";import dayjs from\"dayjs\";var Article=function Article(props){useEffect(function(){// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var stripHtml=require(\"string-strip-html\");var postTitle=props.postTitle,postContent=props.postContent,image=props.image,_id=props._id,postDate=props.postDate;var truncateString=function truncateString(str,num){if(str.length<=num){return str;}return str.slice(0,num)+'...';};var loadPost=function loadPost(post){window.scrollTo(0,0);//Object.values(posts).filter(post => post._id === props.match.params.id)\nprops.actions.mainAction(ACTIONS.LOAD_ARTICLE,post);props.history.push(\"/post/\".concat(post.ID));};var renderArticle=function renderArticle(){var date=dayjs(postDate);var imagePath=Object.keys(image).length>0?\"/images/posts/\"+image.imageName:\"images/missing.png\";var styles={backgrounSize:\"contain\",maxHeight:\"180px\",width:\"100%\",backgroundPosition:\"50% 50%\",overflow:\"hidden\"};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-image\",style:styles},/*#__PURE__*/React.createElement(\"a\",{href:\"/post/\"+props.ID},/*#__PURE__*/React.createElement(\"img\",{src:\"/images/posts/\"+props.image[0].imageName,style:{width:\"100%\",backgrounSize:\"cover\",backgroundPosition:\"50% 10%\",border:\"none\"}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-date\"},date.format('MMMM DD YYYY')),/*#__PURE__*/React.createElement(\"div\",{className:\"card-title\"},truncateString(postTitle,47)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-text\",style:{marginBottom:\"10px\"}},truncateString(stripHtml(postContent),70)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-link\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/post/\"+props.ID},\"More...\")))));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{lg:{span:\"12\"}},renderArticle()));};function mapStateToProps(state){return{post:state.singlePostReducer,postImages:state.postImagesReducer};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(Article);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/src/components/shared/ArticleList.jsx"],"names":["React","useEffect","Col","connect","bindActionCreators","ACTIONS","mainAction","dayjs","Article","props","stripHtml","require","postTitle","postContent","image","_id","postDate","truncateString","str","num","length","slice","loadPost","post","window","scrollTo","actions","LOAD_ARTICLE","history","push","ID","renderArticle","date","imagePath","Object","keys","imageName","styles","backgrounSize","maxHeight","width","backgroundPosition","overflow","border","format","marginBottom","span","mapStateToProps","state","singlePostReducer","postImages","postImagesReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect} from \"react\";\nimport {Col} from \"react-bootstrap\"\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { ACTIONS } from \"redux/actions/types\"\nimport { mainAction } from \"redux/actions/index.actions\"\nimport dayjs from \"dayjs\"\nconst Article = (props) => {\n    useEffect(() => {\n       \n        // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, []);\n    const stripHtml = require(\"string-strip-html\")\n    const {postTitle,postContent,image,_id,postDate} = props\n    const truncateString = (str, num) => {\n        if (str.length <= num) {\n            return str\n          }\n          return str.slice(0, num) + '...'\n      }\n      const loadPost = (post) => {\n        window.scrollTo(0,0)\n        //Object.values(posts).filter(post => post._id === props.match.params.id)\n        props.actions.mainAction(ACTIONS.LOAD_ARTICLE,post)\n        props.history.push(`/post/${post.ID}`)\n      }\n    const renderArticle = () => {\n      let date = dayjs(postDate)\n        let imagePath = Object.keys(image).length > 0 ? \"/images/posts/\"+image.imageName:\"images/missing.png\"\n            let styles = {\n            backgrounSize:\"contain\",\n            maxHeight:\"180px\",\n            width:\"100%\",\n            backgroundPosition:\"50% 50%\",\n            overflow:\"hidden\"\n        }\n        return (<>\n        <div className=\"\">\n          <div className=\"card-image\" style={styles}>\n          <a href={\"/post/\"+props.ID}><img src={\"/images/posts/\"+props.image[0].imageName} style={{width:\"100%\",backgrounSize:\"cover\",backgroundPosition:\"50% 10%\",border:\"none\"}}/></a></div>\n          <div className=\"card-body\">\n            <div className=\"card-date\">{date.format('MMMM DD YYYY')}</div> \n            <div className=\"card-title\">{truncateString(postTitle,47)}</div>\n            <div className=\"card-text\" style={{marginBottom:\"10px\"}}>{truncateString(stripHtml(postContent),70)}</div>\n            <div className=\"card-link\"><a href={\"/post/\"+props.ID}>More...</a></div>\n          </div>\n        </div>\n        </>)\n    }\n    return (<>\n    <Col lg={{span:\"12\" }}>\n    {renderArticle()}\n    </Col>\n    </>)\n}\nfunction mapStateToProps(state) {\n    return {\n      post:state.singlePostReducer,\n      postImages:state.postImagesReducer\n    };\n  }\n  \n  function mapDispatchToProps(dispatch) {\n    return {\n      actions: bindActionCreators({mainAction}, dispatch)\n    };\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Article);\n"]},"metadata":{},"sourceType":"module"}