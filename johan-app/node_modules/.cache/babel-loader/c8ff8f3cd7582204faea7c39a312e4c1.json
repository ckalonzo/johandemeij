{"ast":null,"code":"import React,{useEffect}from\"react\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{ACTIONS}from\"redux/actions/types\";import{mainAction}from\"redux/actions/index.actions\";import{Container,Row,Col}from\"react-bootstrap\";import ReactHtmlParser from'react-html-parser';import dayjs from\"dayjs\";import ArticleList from\"components/shared/ArticleList\";import _ from\"lodash\";var Post=function Post(props){var _props$post=props.post,postTitle=_props$post.postTitle,postDate=_props$post.postDate;var date=dayjs(postDate);// const [post,setPosts] =useState();\n// const [image,setImage] = useState()\nuseEffect(function(){window.scrollTo(0,0);props.actions.mainAction(ACTIONS.LOAD_POSTS,[]);// let singlePost = Object.values(props.posts).filter(post => post._id === props.match.params.id)\nprops.actions.mainAction(ACTIONS.LOAD_ARTICLE,props.post);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var LeadImage=function LeadImage(){var articleImage=[];props.post.map(function(post){articleImage=Object.values(props.postImages).filter(function(image){return image.albumID==post.ID;}).map(function(postImage){return postImage;});});var styles={maxWidth:\"100%\",backgrounSize:\"contain\",height:\"500px\",backgroundPosition:\"50% 50%\"};return/*#__PURE__*/React.createElement(\"div\",{style:{maxHeight:\"auto\",overflow:\"hidden\",textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"img\",{src:articleImage[0]?\"/images/posts/\"+articleImage[0].imageName:\"/images/missing.png\",style:styles,alt:\"\"}));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"section\",{className:\"article\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,props.post.length>0?/*#__PURE__*/React.createElement(LeadImage,props):\"\")),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:{span:8}},/*#__PURE__*/React.createElement(\"h1\",{style:{color:\"#9a0000\",margin:\"50px 0 15px\",textAlign:\"center\",font:\"400 32px/34px 'Work Sans', sans-serif\"}},Object.keys(props.post).length>0?props.post[0].postTitle:\"Title\"),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"#000\",textAlign:\"center\"}},Object.keys(props.post).length>0?dayjs(props.post[0].postDate).format('MMMM DD YYYY'):\"Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"conten\"},Object.keys(props.post).length>0?ReactHtmlParser(props.post[0].postContent):\"content\")),/*#__PURE__*/React.createElement(Col,{lg:{span:4},style:{marginTop:\"50px\"}},/*#__PURE__*/React.createElement(Row,null,Object.values(_.orderBy(props.posts,'postDate','desc')).map(function(article){var articleImage=Object.values(props.postImages).filter(function(image){return image.albumID==article.ID;}).map(function(postImage){return postImage;});if(articleImage[0])return/*#__PURE__*/React.createElement(ArticleList,Object.assign({key:article._id},props,article,{image:articleImage[0]?articleImage[0]:\"missing.png\"}));})))))));};function mapStateToProps(state,props){var allposts=state.postsReducer;return{post:Object.values(allposts).filter(function(post){return post._id===props.match.params.id;}),posts:state.postsReducer,postImages:state.postImagesReducer};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(Post);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/src/components/Post.jsx"],"names":["React","useEffect","connect","bindActionCreators","ACTIONS","mainAction","Container","Row","Col","ReactHtmlParser","dayjs","ArticleList","_","Post","props","post","postTitle","postDate","date","window","scrollTo","actions","LOAD_POSTS","LOAD_ARTICLE","LeadImage","articleImage","map","Object","values","postImages","filter","image","albumID","ID","postImage","styles","maxWidth","backgrounSize","height","backgroundPosition","maxHeight","overflow","textAlign","imageName","length","span","color","margin","font","keys","format","postContent","marginTop","orderBy","posts","article","_id","mapStateToProps","state","allposts","postsReducer","match","params","id","postImagesReducer","mapDispatchToProps","dispatch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,UAAT,KAA2B,6BAA3B,CACA,OAAQC,SAAR,CAAkBC,GAAlB,CAAsBC,GAAtB,KAAgC,iBAAhC,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,iBACSA,KAAK,CAACC,IADf,CACbC,SADa,aACbA,SADa,CACHC,QADG,aACHA,QADG,CAEpB,GAAIC,CAAAA,IAAI,CAAGR,KAAK,CAACO,QAAD,CAAhB,CACA;AACA;AACAhB,SAAS,CAAC,UAAM,CAChBkB,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAkB,CAAlB,EACAN,KAAK,CAACO,OAAN,CAAchB,UAAd,CAAyBD,OAAO,CAACkB,UAAjC,CAA4C,EAA5C,EACD;AACCR,KAAK,CAACO,OAAN,CAAchB,UAAd,CAAyBD,OAAO,CAACmB,YAAjC,CAA8CT,KAAK,CAACC,IAApD,EAEI;AACD,CAPM,CAOJ,EAPI,CAAT,CASA,GAAMS,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CACAX,KAAK,CAACC,IAAN,CAAWW,GAAX,CAAe,SAAAX,IAAI,CAAI,CACnBU,YAAY,CAAGE,MAAM,CAACC,MAAP,CAAcd,KAAK,CAACe,UAApB,EAAgCC,MAAhC,CAAuC,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,OAAN,EAAiBjB,IAAI,CAACkB,EAA1B,EAA5C,EAA0EP,GAA1E,CAA8E,SAAAQ,SAAS,CAAG,CACrG,MAAOA,CAAAA,SAAP,CACD,CAFY,CAAf,CAGH,CAJD,EAKA,GAAIC,CAAAA,MAAM,CAAG,CACTC,QAAQ,CAAC,MADA,CAETC,aAAa,CAAC,SAFL,CAGTC,MAAM,CAAC,OAHE,CAITC,kBAAkB,CAAC,SAJV,CAAb,CAMC,mBAAQ,2BAAK,KAAK,CAAE,CAACC,SAAS,CAAC,MAAX,CAAkBC,QAAQ,CAAC,QAA3B,CAAoCC,SAAS,CAAC,QAA9C,CAAZ,eACL,2BAAK,GAAG,CAAEjB,YAAY,CAAC,CAAD,CAAZ,CAAkB,iBAAiBA,YAAY,CAAC,CAAD,CAAZ,CAAgBkB,SAAnD,CAA6D,qBAAvE,CAA8F,KAAK,CAAER,MAArG,CAA6G,GAAG,CAAC,EAAjH,EADK,CAAR,CAGJ,CAhBD,CAkBA,mBAAQ,qDACJ,oBAAC,SAAD,mBACI,+BAAS,SAAS,CAAC,SAAnB,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,MAAMrB,KAAK,CAACC,IAAN,CAAW6B,MAAX,CAAoB,CAApB,cAAwB,oBAAC,SAAD,CAAgB9B,KAAhB,CAAxB,CAAmD,EAAzD,CADJ,CADJ,cAMA,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAC+B,IAAI,CAAC,CAAN,CAAT,eACI,0BAAI,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAT,CAAmBC,MAAM,CAAC,aAA1B,CAAwCL,SAAS,CAAC,QAAlD,CAA2DM,IAAI,CAAE,uCAAjE,CAAX,EAAuHrB,MAAM,CAACsB,IAAP,CAAYnC,KAAK,CAACC,IAAlB,EAAwB6B,MAAxB,CAAiC,CAAjC,CAAqC9B,KAAK,CAACC,IAAN,CAAW,CAAX,EAAcC,SAAnD,CAA+D,OAAtL,CADJ,cAEI,yBAAG,KAAK,CAAE,CAAE8B,KAAK,CAAE,MAAT,CAAgBJ,SAAS,CAAC,QAA1B,CAAV,EAAgDf,MAAM,CAACsB,IAAP,CAAYnC,KAAK,CAACC,IAAlB,EAAwB6B,MAAxB,CAAiC,CAAjC,CAAsClC,KAAK,CAACI,KAAK,CAACC,IAAN,CAAW,CAAX,EAAcE,QAAf,CAAL,CAA8BiC,MAA9B,CAAqC,cAArC,CAAtC,CAA6F,MAA7I,CAFJ,cAGI,2BAAK,SAAS,CAAC,QAAf,EAAyBvB,MAAM,CAACsB,IAAP,CAAYnC,KAAK,CAACC,IAAlB,EAAwB6B,MAAxB,CAAiC,CAAjC,CAAqCnC,eAAe,CAACK,KAAK,CAACC,IAAN,CAAW,CAAX,EAAcoC,WAAf,CAApD,CAAgF,SAAzG,CAHJ,CADJ,cAMI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAACN,IAAI,CAAC,CAAN,CAAT,CAAmB,KAAK,CAAE,CAACO,SAAS,CAAC,MAAX,CAA1B,eACA,oBAAC,GAAD,MACPzB,MAAM,CAACC,MAAP,CAAehB,CAAC,CAACyC,OAAF,CAAUvC,KAAK,CAACwC,KAAhB,CAAsB,UAAtB,CAAiC,MAAjC,CAAf,EAA0D5B,GAA1D,CAA8D,SAAA6B,OAAO,CAAI,CAExE,GAAI9B,CAAAA,YAAY,CAAEE,MAAM,CAACC,MAAP,CAAcd,KAAK,CAACe,UAApB,EAAgCC,MAAhC,CAAuC,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,OAAN,EAAiBuB,OAAO,CAACtB,EAA7B,EAA5C,EAA6EP,GAA7E,CAAiF,SAAAQ,SAAS,CAAG,CAC7G,MAAOA,CAAAA,SAAP,CACD,CAFiB,CAAlB,CAGA,GAAGT,YAAY,CAAC,CAAD,CAAf,CACE,mBAAO,oBAAC,WAAD,gBAAa,GAAG,CAAE8B,OAAO,CAACC,GAA1B,EAAmC1C,KAAnC,CAA6CyC,OAA7C,EAAsD,KAAK,CAAE9B,YAAY,CAAC,CAAD,CAAZ,CAAkBA,YAAY,CAAC,CAAD,CAA9B,CAAkC,aAA/F,GAAP,CACH,CAPA,CADO,CADA,CANJ,CANA,CADJ,CADI,CAAR,CA+BH,CA/DD,CAgEA,QAASgC,CAAAA,eAAT,CAAyBC,KAAzB,CAA+B5C,KAA/B,CAAsC,CAClC,GAAI6C,CAAAA,QAAQ,CAAGD,KAAK,CAACE,YAArB,CACA,MAAO,CACL7C,IAAI,CAACY,MAAM,CAACC,MAAP,CAAc+B,QAAd,EAAwB7B,MAAxB,CAA+B,SAAAf,IAAI,QAAIA,CAAAA,IAAI,CAACyC,GAAL,GAAa1C,KAAK,CAAC+C,KAAN,CAAYC,MAAZ,CAAmBC,EAApC,EAAnC,CADA,CAELT,KAAK,CAACI,KAAK,CAACE,YAFP,CAGL/B,UAAU,CAAC6B,KAAK,CAACM,iBAHZ,CAAP,CAKD,CAED,QAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO,CACL7C,OAAO,CAAElB,kBAAkB,CAAC,CAACE,UAAU,CAAVA,UAAD,CAAD,CAAe6D,QAAf,CADtB,CAAP,CAGD,CAED,cAAehE,CAAAA,OAAO,CAACuD,eAAD,CAAkBQ,kBAAlB,CAAP,CAA6CpD,IAA7C,CAAf","sourcesContent":["import React,{useEffect} from \"react\"\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { ACTIONS } from \"redux/actions/types\"\nimport { mainAction } from \"redux/actions/index.actions\"\nimport {Container,Row,Col} from \"react-bootstrap\"\nimport ReactHtmlParser from 'react-html-parser';\nimport dayjs from \"dayjs\"\nimport ArticleList from \"components/shared/ArticleList\"\nimport _ from \"lodash\"\nconst Post = (props) => {\n    const {postTitle,postDate} = props.post\n    let date = dayjs(postDate)\n    // const [post,setPosts] =useState();\n    // const [image,setImage] = useState()\n    useEffect(() => {\n    window.scrollTo(0,0)\n    props.actions.mainAction(ACTIONS.LOAD_POSTS,[])\n   // let singlePost = Object.values(props.posts).filter(post => post._id === props.match.params.id)\n    props.actions.mainAction(ACTIONS.LOAD_ARTICLE,props.post)\n        \n        // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, []);\n\n    const LeadImage = () => {\n        let articleImage = []\n        props.post.map(post => {\n            articleImage = Object.values(props.postImages).filter(image => image.albumID == post.ID).map(postImage =>{\n                return postImage\n              })\n        })\n        let styles = {\n            maxWidth:\"100%\",\n            backgrounSize:\"contain\",\n            height:\"500px\",\n            backgroundPosition:\"50% 50%\"\n        }\n         return  <div style={{maxHeight:\"auto\",overflow:\"hidden\",textAlign:\"center\"}}>\n            <img src={articleImage[0] ? \"/images/posts/\"+articleImage[0].imageName:\"/images/missing.png\"} style={styles} alt=\"\" />\n         </div>\n    }\n\n    return (<>\n        <Container>\n            <section className=\"article\">\n                <Row>\n                    <Col>{props.post.length > 0 ? <LeadImage  {...props}/> : \"\"}\n                    \n                    </Col>\n                </Row>\n            <Row>\n                <Col lg={{span:8}}>\n                    <h1 style={{ color: \"#9a0000\",margin:\"50px 0 15px\",textAlign:\"center\",font: \"400 32px/34px 'Work Sans', sans-serif\"}}>{Object.keys(props.post).length > 0 ? props.post[0].postTitle : \"Title\" }</h1>\n                    <p style={{ color: \"#000\",textAlign:\"center\"}}>{Object.keys(props.post).length > 0 ?  dayjs(props.post[0].postDate).format('MMMM DD YYYY') : \"Date\" }</p>\n                    <div className=\"conten\">{Object.keys(props.post).length > 0 ? ReactHtmlParser(props.post[0].postContent):\"content\"}</div>\n                </Col>\n                <Col lg={{span:4}} style={{marginTop:\"50px\"}}>\n                <Row>\n        {Object.values((_.orderBy(props.posts,'postDate','desc'))).map(article => {\n\n          let articleImage =Object.values(props.postImages).filter(image => image.albumID == article.ID).map(postImage =>{\n            return postImage\n          })\n          if(articleImage[0])\n            return <ArticleList key={article._id} {...props}{...article} image={articleImage[0] ? articleImage[0]:\"missing.png\"} />\n        })}\n    </Row>\n                </Col>\n            </Row>\n            </section>\n        </Container>\n    </>\n    )\n}\nfunction mapStateToProps(state,props) {\n    let allposts = state.postsReducer\n    return {\n      post:Object.values(allposts).filter(post => post._id === props.match.params.id),\n      posts:state.postsReducer,\n      postImages:state.postImagesReducer\n    };\n  }\n  \n  function mapDispatchToProps(dispatch) {\n    return {\n      actions: bindActionCreators({mainAction}, dispatch)\n    };\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Post);"]},"metadata":{},"sourceType":"module"}