{"ast":null,"code":"import _slicedToArray from\"/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{mainAction}from'redux/actions/index.actions';import{ACTIONS}from\"redux/actions/types\";import Paginate from\"components/shared/Paginate\";import List from\"components/shared/List\";import Loading from\"components/shared/Loading\";import{Dropdown,DropdownButton}from\"react-bootstrap\";var AgendaList=function AgendaList(props){var d=new Date();var day=d.getDate();var month=(d.getMonth()+1).toString();var year=d.getFullYear().toString();var _useState=useState(year),_useState2=_slicedToArray(_useState,2),listYear=_useState2[0],setListYear=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),activeLink=_useState4[0],setActiveLink=_useState4[1];useEffect(function(){window.scrollTo(0,0);document.title=\"JohanDeMeij.com | Agenda\";props.actions.mainAction(ACTIONS.LOAD_MUSIC,{});props.actions.mainAction(ACTIONS.LOAD_AGENDAS,{limit:100,skip:0,year:listYear});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var loadYear=function loadYear(selectedYear){setActiveLink(selectedYear);props.actions.mainAction(ACTIONS.LOAD_AGENDAS_FILTERED,{limit:100,skip:0,year:selectedYear});};var list=function list(){return Object.values(props.agendas).map(function(agenda){var title=props.CDS.filter(function(CD){return CD.id===agenda.cd;}).map(function(CD){return CD.cdName;}),title1=props.CDS.filter(function(CD){return CD.id===agenda.cd1;}).map(function(CD){return CD.cdName;}),title2=props.CDS.filter(function(CD){return CD.id===agenda.cd2;}).map(function(CD){return CD.cdName;}),title3=props.CDS.filter(function(CD){return CD.id===agenda.cd3;}).map(function(CD){return CD.cdName;});agenda.title=title[0];agenda.title1=title1[0];agenda.title2=title2[0];agenda.title3=title3[0];// console.log(listYear ,\"===\", year ,\"&&\",+agenda.month ,\">=\", month ,\"&&\", agenda.day.replace(/^0+/, '') ,\">=\", day)\nreturn+agenda.ON_OFF===1?/*#__PURE__*/React.createElement(List,Object.assign({key:agenda.id},agenda)):\"\";});};var RenderDropdown=function RenderDropdown(){var years=[];var DropDownList=function DropDownList(){var beginYear=2011;for(var i=beginYear;i<=+year;i++){years.push(i);}return years.map(function(archiveYear){var selectedLink=activeLink===archiveYear?\"selected\":\"\";return/*#__PURE__*/React.createElement(Dropdown.Item,{as:\"button\",selectedLink:true,onClick:function onClick(){loadYear(archiveYear);}},archiveYear);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(DropdownButton,{id:\"dropdown-item-button\",title:\"Archive\",variant:\"outline-secondary\"},/*#__PURE__*/React.createElement(DropDownList,null)));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"section\",{className:\"agenda-full\"},/*#__PURE__*/React.createElement(\"h3\",{style:{textAlign:'center',fontSize:\"2rem\",textTransform:\"uppercase\",color:\"#FFF\"}},\"Agenda\"),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"archive\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){window.location.reload();}},\"Current\"),/*#__PURE__*/React.createElement(RenderDropdown,null))),list())));};function mapStateToProps(state){return{agendas:state.agendaReducer,CDS:state.musicReducer.allPresentations};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(AgendaList);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/src/components/AgendaList.jsx"],"names":["React","useEffect","useState","connect","bindActionCreators","mainAction","ACTIONS","Paginate","List","Loading","Dropdown","DropdownButton","AgendaList","props","d","Date","day","getDate","month","getMonth","toString","year","getFullYear","listYear","setListYear","activeLink","setActiveLink","window","scrollTo","document","title","actions","LOAD_MUSIC","LOAD_AGENDAS","limit","skip","loadYear","selectedYear","LOAD_AGENDAS_FILTERED","list","Object","values","agendas","map","agenda","CDS","filter","CD","id","cd","cdName","title1","cd1","title2","cd2","title3","cd3","ON_OFF","RenderDropdown","years","DropDownList","beginYear","i","push","archiveYear","selectedLink","textAlign","fontSize","textTransform","color","location","reload","mapStateToProps","state","agendaReducer","musicReducer","allPresentations","mapDispatchToProps","dispatch"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,KAAuC,OAAvC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,UAAT,KAA2B,6BAA3B,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,OAAQC,QAAR,CAAiBC,cAAjB,KAAsC,iBAAtC,CACA,GAAMC,CAAAA,UAAU,CAAI,QAAdA,CAAAA,UAAc,CAACC,KAAD,CAAW,CACzB,GAAIC,CAAAA,CAAC,CAAG,GAAIC,CAAAA,IAAJ,EAAR,CACA,GAAIC,CAAAA,GAAG,CAAGF,CAAC,CAACG,OAAF,EAAV,CACA,GAAIC,CAAAA,KAAK,CAAG,CAACJ,CAAC,CAACK,QAAF,GAAe,CAAhB,EAAmBC,QAAnB,EAAZ,CACA,GAAIC,CAAAA,IAAI,CAAGP,CAAC,CAACQ,WAAF,GAAgBF,QAAhB,EAAX,CAJyB,cAKMlB,QAAQ,CAACmB,IAAD,CALd,wCAKlBE,QALkB,eAKTC,WALS,8BAMQtB,QAAQ,CAAC,EAAD,CANhB,yCAMlBuB,UANkB,eAMPC,aANO,eAOzBzB,SAAS,CAAC,UAAM,CACd0B,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAkB,CAAlB,EACAC,QAAQ,CAACC,KAAT,CAAiB,0BAAjB,CACAjB,KAAK,CAACkB,OAAN,CAAc1B,UAAd,CAAyBC,OAAO,CAAC0B,UAAjC,CAA4C,EAA5C,EACAnB,KAAK,CAACkB,OAAN,CAAc1B,UAAd,CAAyBC,OAAO,CAAC2B,YAAjC,CAA8C,CAACC,KAAK,CAAC,GAAP,CAAWC,IAAI,CAAC,CAAhB,CAAkBd,IAAI,CAACE,QAAvB,CAA9C,EACD;AACF,CANU,CAMT,EANS,CAAT,CAOD,GAAMa,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,YAAD,CAAiB,CACjCX,aAAa,CAACW,YAAD,CAAb,CACExB,KAAK,CAACkB,OAAN,CAAc1B,UAAd,CAAyBC,OAAO,CAACgC,qBAAjC,CAAuD,CAACJ,KAAK,CAAC,GAAP,CAAWC,IAAI,CAAC,CAAhB,CAAkBd,IAAI,CAACgB,YAAvB,CAAvD,EACD,CAHF,CAKF,GAAME,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAK,CAChB,MAAOC,CAAAA,MAAM,CAACC,MAAP,CAAc5B,KAAK,CAAC6B,OAApB,EAA6BC,GAA7B,CAAiC,SAAAC,MAAM,CAAI,CACjD,GAAId,CAAAA,KAAK,CAAGjB,KAAK,CAACgC,GAAN,CAAUC,MAAV,CAAiB,SAAAC,EAAE,QAAEA,CAAAA,EAAE,CAACC,EAAH,GAAQJ,MAAM,CAACK,EAAjB,EAAnB,EAAwCN,GAAxC,CAA4C,SAAAI,EAAE,QAAEA,CAAAA,EAAE,CAACG,MAAL,EAA9C,CAAZ,CACIC,MAAM,CAAGtC,KAAK,CAACgC,GAAN,CAAUC,MAAV,CAAiB,SAAAC,EAAE,QAAEA,CAAAA,EAAE,CAACC,EAAH,GAAQJ,MAAM,CAACQ,GAAjB,EAAnB,EAAyCT,GAAzC,CAA6C,SAAAI,EAAE,QAAEA,CAAAA,EAAE,CAACG,MAAL,EAA/C,CADb,CAEIG,MAAM,CAAGxC,KAAK,CAACgC,GAAN,CAAUC,MAAV,CAAiB,SAAAC,EAAE,QAAEA,CAAAA,EAAE,CAACC,EAAH,GAAQJ,MAAM,CAACU,GAAjB,EAAnB,EAAyCX,GAAzC,CAA6C,SAAAI,EAAE,QAAEA,CAAAA,EAAE,CAACG,MAAL,EAA/C,CAFb,CAGIK,MAAM,CAAG1C,KAAK,CAACgC,GAAN,CAAUC,MAAV,CAAiB,SAAAC,EAAE,QAAEA,CAAAA,EAAE,CAACC,EAAH,GAAQJ,MAAM,CAACY,GAAjB,EAAnB,EAAyCb,GAAzC,CAA6C,SAAAI,EAAE,QAAEA,CAAAA,EAAE,CAACG,MAAL,EAA/C,CAHb,CAKAN,MAAM,CAACd,KAAP,CAAeA,KAAK,CAAC,CAAD,CAApB,CACAc,MAAM,CAACO,MAAP,CAAgBA,MAAM,CAAC,CAAD,CAAtB,CACAP,MAAM,CAACS,MAAP,CAAgBA,MAAM,CAAC,CAAD,CAAtB,CACAT,MAAM,CAACW,MAAP,CAAgBA,MAAM,CAAC,CAAD,CAAtB,CACD;AACC,MAAO,CAACX,MAAM,CAACa,MAAR,GAAoB,CAApB,cAAwB,oBAAC,IAAD,gBAAM,GAAG,CAAEb,MAAM,CAACI,EAAlB,EAA0BJ,MAA1B,EAAxB,CAA4D,EAAnE,CACH,CAZS,CAAP,CAaD,CAdD,CAeA,GAAMc,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAMC,CAAAA,KAAK,CAAG,EAAd,CACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAIC,CAAAA,SAAS,CAAG,IAAhB,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAGD,SAAb,CAAwBC,CAAC,EAAI,CAACzC,IAA9B,CAAoCyC,CAAC,EAArC,CAAyC,CACtCH,KAAK,CAACI,IAAN,CAAWD,CAAX,EACD,CAED,MAAOH,CAAAA,KAAK,CAAChB,GAAN,CAAU,SAAAqB,WAAW,CAAI,CAC9B,GAAIC,CAAAA,YAAY,CAAGxC,UAAU,GAAKuC,WAAf,CAA6B,UAA7B,CAAwC,EAA3D,CACA,mBAAO,oBAAC,QAAD,CAAU,IAAV,EAAe,EAAE,CAAC,QAAlB,CAA2B,YAAY,KAAvC,CAAwC,OAAO,CAAE,kBAAI,CAAC5B,QAAQ,CAAC4B,WAAD,CAAR,CAAsB,CAA5E,EAA+EA,WAA/E,CAAP,CACD,CAHM,CAAP,CAIF,CAVD,CAWA,mBAAQ,qDACR,oBAAC,cAAD,EAAgB,EAAE,CAAC,sBAAnB,CAA0C,KAAK,CAAC,SAAhD,CAA0D,OAAO,CAAC,mBAAlE,eAEA,oBAAC,YAAD,MAFA,CADQ,CAAR,CAMD,CAnBD,CAqBC,mBAAQ,qDACR,+BAAS,SAAS,CAAC,aAAnB,eACA,0BAAI,KAAK,CAAE,CAACE,SAAS,CAAC,QAAX,CAAoBC,QAAQ,CAAC,MAA7B,CAAoCC,aAAa,CAAE,WAAnD,CAA+DC,KAAK,CAAC,MAArE,CAAX,WADA,cAEA,2BAAK,SAAS,CAAC,WAAf,eACG,2BAAK,SAAS,CAAC,SAAf,eACG,2CACA,0BAAK,OAAO,CAAE,kBAAI,CAAC1C,MAAM,CAAC2C,QAAP,CAAgBC,MAAhB,GAAyB,CAA5C,YADA,cAEC,oBAAC,cAAD,MAFD,CADH,CADH,CAOChC,IAAI,EAPL,CAFA,CADQ,CAAR,CAeH,CAtED,CAuEA,QAASiC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC5B,MAAO,CACH/B,OAAO,CAAC+B,KAAK,CAACC,aADX,CAEH7B,GAAG,CAAC4B,KAAK,CAACE,YAAN,CAAmBC,gBAFpB,CAAP,CAID,CAED,QAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO,CACL/C,OAAO,CAAE3B,kBAAkB,CACzB,CACIC,UAAU,CAAVA,UADJ,CADyB,CAIzByE,QAJyB,CADtB,CAAP,CAQD,CAED,cAAe3E,CAAAA,OAAO,CACpBqE,eADoB,CAEpBK,kBAFoB,CAAP,CAGbjE,UAHa,CAAf","sourcesContent":["import React,{useEffect,useState} from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { mainAction } from 'redux/actions/index.actions'\nimport { ACTIONS } from \"redux/actions/types\"\nimport Paginate from \"components/shared/Paginate\"\nimport List from \"components/shared/List\"\nimport Loading from \"components/shared/Loading\"\nimport {Dropdown,DropdownButton} from \"react-bootstrap\"\nconst AgendaList  = (props) => {\n      let d = new Date();\n      let day = d.getDate();\n      let month = (d.getMonth() + 1).toString()\n      let year = d.getFullYear().toString();\n      const [listYear,setListYear] = useState(year)\n      const [activeLink,setActiveLink]=useState(\"\")\n      useEffect(() => {\n        window.scrollTo(0,0)\n        document.title = \"JohanDeMeij.com | Agenda\"\n        props.actions.mainAction(ACTIONS.LOAD_MUSIC,{})\n        props.actions.mainAction(ACTIONS.LOAD_AGENDAS,{limit:100,skip:0,year:listYear})\n       // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[])\n     const loadYear = (selectedYear) =>{\n      setActiveLink(selectedYear)\n        props.actions.mainAction(ACTIONS.LOAD_AGENDAS_FILTERED,{limit:100,skip:0,year:selectedYear})\n      }\n  \n   const list = () =>{\n     return Object.values(props.agendas).map(agenda => {\n      let title = props.CDS.filter(CD=>CD.id===agenda.cd).map(CD=>CD.cdName),\n          title1 = props.CDS.filter(CD=>CD.id===agenda.cd1).map(CD=>CD.cdName),\n          title2 = props.CDS.filter(CD=>CD.id===agenda.cd2).map(CD=>CD.cdName),\n          title3 = props.CDS.filter(CD=>CD.id===agenda.cd3).map(CD=>CD.cdName)\n\n      agenda.title = title[0]\n      agenda.title1 = title1[0]\n      agenda.title2 = title2[0]\n      agenda.title3 = title3[0]\n     // console.log(listYear ,\"===\", year ,\"&&\",+agenda.month ,\">=\", month ,\"&&\", agenda.day.replace(/^0+/, '') ,\">=\", day)\n      return +agenda.ON_OFF  === 1 ? <List key={agenda.id} {...agenda}/>:\"\"\n  })\n   }\n   const RenderDropdown = () => {\n     const years = []\n     const DropDownList = () => {\n       let beginYear = 2011\n       for (let i = beginYear; i <= +year; i++) {\n          years.push(i)\n        }\n        \n        return years.map(archiveYear => {\n          let selectedLink = activeLink === archiveYear ? \"selected\":\"\"\n          return <Dropdown.Item as=\"button\" selectedLink onClick={()=>{loadYear(archiveYear)}}>{archiveYear}</Dropdown.Item>\n        })\n     }\n     return (<>\n     <DropdownButton id=\"dropdown-item-button\" title=\"Archive\" variant=\"outline-secondary\">\n     \n     <DropDownList />\n</DropdownButton>\n     </>)\n   }\n    \n    return (<>\n    <section className=\"agenda-full\">\n    <h3 style={{textAlign:'center',fontSize:\"2rem\",textTransform: \"uppercase\",color:\"#FFF\"}}>Agenda</h3>\n    <div className=\"container\">\n       <div className=\"archive\">\n          <ul>\n          <li  onClick={()=>{window.location.reload()}}>Current</li>\n           <RenderDropdown />\n          </ul>\n         </div> \n    {list()}\n      \n    </div>\n    </section>\n    </>)\n}\nfunction mapStateToProps(state) {\n    return {\n        agendas:state.agendaReducer,\n        CDS:state.musicReducer.allPresentations\n    };\n  }\n  \n  function mapDispatchToProps(dispatch) {\n    return {\n      actions: bindActionCreators(\n        {\n            mainAction\n        },\n        dispatch\n      )\n    };\n  }\n  \n  export default connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(AgendaList);\n"]},"metadata":{},"sourceType":"module"}