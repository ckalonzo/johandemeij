{"ast":null,"code":"import _slicedToArray from\"/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Col}from\"react-bootstrap\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";import{ACTIONS}from\"redux/actions/types\";import{mainAction}from\"redux/actions/index.actions\";import dayjs from\"dayjs\";var Article=function Article(props){useEffect(function(){// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var stripHtml=require(\"string-strip-html\");var postTitle=props.postTitle,postContent=props.postContent,image=props.image,_id=props._id,postDate=props.postDate,postImage=props.postImage;var _useState=useState(\"/images/missing.png\"),_useState2=_slicedToArray(_useState,2),loadedImage=_useState2[0],setLoadeImage=_useState2[1];var truncateString=function truncateString(str,num){if(str.length<=num){return str;}return str.slice(0,num)+'...';};var loadPost=function loadPost(props){props.history.push(\"/post/\".concat(_id));};var renderImage=function renderImage(props){if(props[0]){return/*#__PURE__*/React.createElement(\"img\",{src:\"/images/posts/\"+props[0].imageName,width:\"100%\",\"max-height\":\"180px\"});}return/*#__PURE__*/React.createElement(\"img\",{src:loadedImage,width:\"100%\",height:\"180px\"});};var renderArticle=function renderArticle(props,mainProps){var date=dayjs(postDate);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"news-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-image\",style:{height:\"180px\",overflow:\"hidden\"},onClick:function onClick(){return loadPost(mainProps);}},renderImage(props)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-date\"},date.format('MMMM DD YYYY')),/*#__PURE__*/React.createElement(\"div\",{className:\"card-title\"},truncateString(postTitle,47)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-text\"},truncateString(stripHtml(postContent),70)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-link\",onClick:function onClick(){return loadPost(mainProps);}},\"More...\"))));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{lg:{span:\"4\"}},renderArticle(props.postImage,props)));};function mapStateToProps(state){return{post:state.singlePostReducer,postImages:state.postImagesReducer};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators({mainAction:mainAction},dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(Article);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/websites/johan-de-meij/johan-app/src/components/shared/Article.jsx"],"names":["React","useEffect","useState","Col","connect","bindActionCreators","ACTIONS","mainAction","dayjs","Article","props","stripHtml","require","postTitle","postContent","image","_id","postDate","postImage","loadedImage","setLoadeImage","truncateString","str","num","length","slice","loadPost","history","push","renderImage","imageName","renderArticle","mainProps","date","height","overflow","format","span","mapStateToProps","state","post","singlePostReducer","postImages","postImagesReducer","mapDispatchToProps","dispatch","actions"],"mappings":"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","sourcesContent":["import React, { useEffect,useState} from \"react\";\nimport {Col} from \"react-bootstrap\"\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { ACTIONS } from \"redux/actions/types\"\nimport { mainAction } from \"redux/actions/index.actions\"\nimport dayjs from \"dayjs\"\nconst Article = (props) => {\n    useEffect(() => {\n       \n        // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, []);\n    const stripHtml = require(\"string-strip-html\")\n    const {postTitle,postContent,image,_id,postDate,postImage} = props\n    const [loadedImage,setLoadeImage] = useState(\"/images/missing.png\")\n    const truncateString = (str, num) => {\n        if (str.length <= num) {\n            return str\n          }\n          return str.slice(0, num) + '...'\n      }\n      const loadPost = (props) => {\n        props.history.push(`/post/${_id}`)\n      }\n      const renderImage = (props) => {\n        if(props[0]){\n        return <img src={\"/images/posts/\"+props[0].imageName} width=\"100%\" max-height=\"180px\" />}\n        return <img src={loadedImage} width=\"100%\" height=\"180px\" />\n      }\n    const renderArticle = (props,mainProps) => {\n      let date = dayjs(postDate)\n        return (<>\n        <div className=\"news-card\">\n          <div className=\"card-image\" style={{height:\"180px\",overflow:\"hidden\"}} onClick={()=>loadPost(mainProps)}>\n{renderImage(props)}\n          </div>\n          <div className=\"card-body\">\n            <div className=\"card-date\">{date.format('MMMM DD YYYY')}</div> \n            <div className=\"card-title\">{truncateString(postTitle,47)}</div>\n            <div className=\"card-text\">{truncateString(stripHtml(postContent),70)}</div>\n            <div className=\"card-link\" onClick={()=>loadPost(mainProps)}>More...</div>\n          </div>\n        </div>\n        </>)\n    }\n    return (<>\n    <Col lg={{span:\"4\" }} >\n    {renderArticle(props.postImage,props)}\n    </Col>\n    </>)\n}\nfunction mapStateToProps(state) {\n    return {\n      post:state.singlePostReducer,\n      postImages:state.postImagesReducer\n    };\n  }\n  \n  function mapDispatchToProps(dispatch) {\n    return {\n      actions: bindActionCreators({mainAction}, dispatch)\n    };\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Article);\n"]},"metadata":{},"sourceType":"module"}